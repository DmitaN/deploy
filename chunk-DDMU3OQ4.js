import{b as Y}from"./chunk-6SNPJ4FR.js";import"./chunk-5DY23JTE.js";import"./chunk-55AZSWQL.js";import{f as R,g as U}from"./chunk-KLYAGV3X.js";import"./chunk-NRW3N5IM.js";import{c as D,d as q,e as P}from"./chunk-5OOBTWLR.js";import"./chunk-WGEXQGKE.js";import{J as Q,K as k,a as V,j as B,p as F,z as I}from"./chunk-HDIL6OWO.js";import{K as $,L as O}from"./chunk-V7OG65O4.js";import"./chunk-4YRY4IP2.js";import{q as S,r as N}from"./chunk-PRE7VHBU.js";import"./chunk-3V7F4CVA.js";import{Bb as x,Ca as p,Da as c,Db as s,Eb as a,Ob as d,Qb as h,Vb as M,Za as m,ac as w,bc as A,la as g,lb as _,ob as C,ra as T,rb as f,sb as v,tb as y,ub as b,vb as r,wb as l,xb as E}from"./chunk-JT3XW4XA.js";function W(e,u){if(e&1){let t=x();r(0,"div",1),E(1,"app-card-product",5),r(2,"div",6)(3,"p-inputNumber",7),s("onInput",function(i){let o=p(t).$implicit,j=a(3);return c(j.handleQuantityChange(i,o.ITEM))}),l(),r(4,"p-button",8),s("onClick",function(){let i=p(t).$implicit,o=a(3);return c(o.handleRemoveItem(i.ITEM))}),l()()()}if(e&2){let t=u.$implicit;m(),C("product",t.ITEM),m(2),C("ngModel",t.QUANTITY)("showButtons",!0)("min",1)("max",100)}}function z(e,u){if(e&1){let t=x();r(0,"div",0),y(1,W,5,5,"div",1,v),l(),r(3,"p",2),d(4," \u041E\u0431\u0449\u0435\u0435 \u043A\u043E\u043B\u0438\u0447\u0435\u0441\u0442\u0432\u043E: "),r(5,"span",3),d(6),l()(),r(7,"p-button",4),s("onClick",function(){p(t);let i=a(),o=a();return c(o.handleCreateOrder(i))}),l()}if(e&2){let t=a(),n=a();m(),b(t),m(5),h(" ",n.totalQuantity()," ")}}function G(e,u){e&1&&d(0),e&2&&h(" ","\u041A\u043E\u0440\u0437\u0438\u043D\u0430 \u043F\u0443\u0441\u0442\u0430"," ")}function H(e,u){e&1&&_(0,z,8,1)(1,G,1,1),e&2&&f(u.length!==0?0:1)}var pt=(()=>{class e{constructor(){this.store=g(B);let t=this.store.select(Q);this.totalQuantity=V(t,{initialValue:0})}ngOnInit(){this.cart$=this.store.select(k)}handleQuantityChange(t,n){let i=t.value;i&&this.store.dispatch(I.quantityItemChange({ITEM:n,QUANTITY:+i}))}handleRemoveItem(t){t&&this.store.dispatch(I.removeItemFromCart({ITEM:t}))}handleCreateOrder(t){this.store.dispatch(F.createOrder({order:{cart:t,id:1,status:"NEW",uid:"123"}}))}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=T({type:e,selectors:[["app-cart"]],standalone:!0,features:[M],decls:2,vars:3,consts:[[1,"catalog","fadein"],[1,"card","flex","flex-column","mb-4"],[1,"font-bold","mb-4"],[1,"font-normal"],["label","\u0417\u0430\u043A\u0430\u0437\u0430\u0442\u044C",3,"onClick"],[1,"mb-4","align-self-center",3,"product"],[1,"flex","flex-column","align-items-center"],["mode","decimal","inputId","minmax-buttons",1,"mb-4",3,"onInput","ngModel","showButtons","min","max"],["label","\u0423\u0434\u0430\u043B\u0438\u0442\u044C","severity","danger",3,"onClick"]],template:function(n,i){if(n&1&&(_(0,H,2,1),w(1,"async")),n&2){let o;f((o=A(1,1,i.cart$))?0:-1,o)}},dependencies:[N,S,O,$,U,R,P,D,q,Y]})}}return e})();export{pt as CartComponent};

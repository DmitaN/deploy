import"./chunk-5DY23JTE.js";import{e as O,f as Q,g as Y,j as G,k as H}from"./chunk-YBF2TWEV.js";import{F as z,G as j,M as L,j as q,v as D,w as U}from"./chunk-MIPPZD3I.js";import"./chunk-XSSXK7EZ.js";import"./chunk-Q26KJI4S.js";import{J as R,K as W,g as E,o as N}from"./chunk-LAQJW4FS.js";import{q as S,r as P}from"./chunk-2XHDTA27.js";import"./chunk-6HBPSAEV.js";import{$b as C,Bb as d,Ca as l,Cb as p,Da as m,Mb as I,Ob as k,Pb as B,Qb as V,Rb as A,Tb as F,Ua as w,Xa as a,Ya as x,_b as f,aa as _,jb as v,la as g,mb as c,pb as b,ra as y,tb as n,ub as s,vb as M,zb as T}from"./chunk-GPTLXEAQ.js";function J(r,i){if(r&1){let o=T();n(0,"div",1),M(1,"img",2),n(2,"p",3),I(3),f(4,"translate"),s(),n(5,"div")(6,"p-inputNumber",4),A("ngModelChange",function(t){l(o);let u=p();return V(u.quantity,t)||(u.quantity=t),m(t)}),s()(),n(7,"div",5)(8,"p-button",6),d("onClick",function(){l(o);let t=p();return m(t.handleToggleFavorite())}),s(),n(9,"p-button",7),d("onClick",function(){l(o);let t=p();return m(t.handleAddToCart())}),s()()()}if(r&2){let o=p();a(),c("src",i.imageUrl,w),a(2),k(" ",C(4,9,o.label)," "),a(3),B("ngModel",o.quantity),c("showButtons",!0)("step",1)("min",1)("max",100),a(2),c("icon",o.isFavorite)("text",!0)}}var dt=(()=>{let i=class i{get isFavorite(){return this.product?.isFavorite?"pi pi-bookmark-fill ":"pi pi-bookmark"}constructor(e){this.route=e,this.store=g(q),this.label="\u043E\u043F\u0438\u0441\u0430\u043D\u0438\u0435",this.quantity=1}ngOnInit(){let e=this.route.snapshot.params[N.UID];e&&(this.product$=this.store.select(L(e)).pipe(_(t=>{t&&(this.product=t)})))}ngOnDestroy(){this.quantity=1}handleAddToCart(){this.product&&this.store.dispatch(D.addItemToCart({ITEM:this.product,QUANTITY:this.quantity}))}handleToggleFavorite(){this.product&&this.store.dispatch(U.toggleIsFavorite({item:this.product}))}};i.\u0275fac=function(t){return new(t||i)(x(E))},i.\u0275cmp=y({type:i,selectors:[["app-product-view"]],standalone:!0,features:[F],decls:3,vars:3,consts:[[1,"flex","justify-content-center","col-12"],[1,"product__card","card"],["alt","product_image","width","100%",1,"mb-8",3,"src"],[1,"mb-4"],["buttonLayout","horizontal","inputId","horizontal","spinnerMode","horizontal","decrementButtonClass","p-button-danger","incrementButtonClass","p-button-success","incrementButtonIcon","pi pi-plus","decrementButtonIcon","pi pi-minus","styleClass","w-full",1,"mb-4","w-full",3,"ngModelChange","ngModel","showButtons","step","min","max"],[1,"flex","flex-column","gap-2"],[3,"onClick","icon","text"],["label","\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0432 \u043A\u043E\u0440\u0437\u0438\u043D\u0443","styleClass","w-full",3,"onClick"]],template:function(t,u){if(t&1&&(n(0,"div",0),v(1,J,10,11,"div",1),f(2,"async"),s()),t&2){let h;a(),b((h=C(2,1,u.product$))?1:-1,h)}},dependencies:[j,z,W,R,H,G,Y,O,Q,P,S]});let r=i;return r})();export{dt as ProductViewComponent};

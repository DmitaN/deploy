import{p as oe,q as yt,u as St}from"./chunk-UCQH3X34.js";import{A as X,Aa as gt,B as rt,C as Se,D as ee,E as it,F as Ae,Fa as D,I as M,Ia as Ie,J as st,Ka as w,L as ot,La as mt,M as at,Ma as Et,N as ct,Q as Re,T as ut,U as ft,V as lt,X as Ce,Ya as Oe,_ as Te,a as m,b as O,ba as dt,ca as be,eb as Fe,fa as p,g as j,ga as te,ia as u,j as Z,k as J,ka as c,la as g,m as tt,ma as pt,mc as _e,nc as vt,o as nt,pa as ne,q as T,s as F,sa as re,ua as ht,uc as se,v as R,va as ie,x as ve,z as ye}from"./chunk-ERNPZIPW.js";function Le(e,r){let t=!r?.manualCleanup;t&&!r?.injector&&gt(Le);let n=t?r?.injector?.get(Ie)??g(Ie):null,i=on(r?.equal),s;r?.requireSync?s=Fe({kind:0},{equal:i}):s=Fe({kind:1,value:r?.initialValue},{equal:i});let o=e.subscribe({next:a=>s.set({kind:1,value:a}),error:a=>{if(r?.rejectErrors)throw a;s.set({kind:2,error:a})}});if(r?.requireSync&&s().kind===0)throw new be(601,!1);return n?.onDestroy(o.unsubscribe.bind(o)),se(()=>{let a=s();switch(a.kind){case 1:return a.value;case 2:throw a.error;case 0:throw new be(601,!1)}},{equal:r?.equal})}function on(e=Object.is){return(r,t)=>r.kind===1&&t.kind===1&&e(r.value,t.value)}var we={};function Ue(e,r){if(we[e]=(we[e]||0)+1,typeof r=="function")return xe(e,(...n)=>O(m({},r(...n)),{type:e}));switch(r?r._as:"empty"){case"empty":return xe(e,()=>({type:e}));case"props":return xe(e,n=>O(m({},n),{type:e}));default:throw new Error("Unexpected config.")}}function E(){return{_as:"props",_p:void 0}}function xe(e,r){return Object.defineProperty(r,"type",{value:e,writable:!1})}function an(e){return e.charAt(0).toUpperCase()+e.substring(1)}function cn(e){return e.charAt(0).toLowerCase()+e.substring(1)}function C(e){let{source:r,events:t}=e;return Object.keys(t).reduce((n,i)=>O(m({},n),{[un(i)]:Ue(fn(r,i),t[i])}),{})}function S(){return E()}function un(e){return e.trim().split(" ").map((r,t)=>t===0?cn(r):an(r)).join("")}function fn(e,r){return`[${e}] ${r}`}var wt="@ngrx/store/init",P=(()=>{class e extends J{constructor(){super({type:wt})}next(t){if(typeof t=="function")throw new TypeError(`
        Dispatch expected an object, instead it received a function.
        If you're using the createAction function, make sure to invoke the function
        before dispatching the action. For example, someAction should be someAction().`);if(typeof t>"u")throw new TypeError("Actions must be objects");if(typeof t.type>"u")throw new TypeError("Actions must have a type property");super.next(t)}complete(){}ngOnDestroy(){super.complete()}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})(),ln=[P],jt=new u("@ngrx/store Internal Root Guard"),At=new u("@ngrx/store Internal Initial State"),Ge=new u("@ngrx/store Initial State"),Dt=new u("@ngrx/store Reducer Factory"),Rt=new u("@ngrx/store Internal Reducer Factory Provider"),Nt=new u("@ngrx/store Initial Reducers"),Me=new u("@ngrx/store Internal Initial Reducers"),kr=new u("@ngrx/store Store Features"),Ct=new u("@ngrx/store Internal Store Reducers"),Vr=new u("@ngrx/store Internal Feature Reducers"),$r=new u("@ngrx/store Internal Feature Configs"),Br=new u("@ngrx/store Internal Store Features"),zr=new u("@ngrx/store Internal Feature Reducers Token"),Hr=new u("@ngrx/store Feature Reducers"),Tt=new u("@ngrx/store User Provided Meta Reducers"),ae=new u("@ngrx/store Meta Reducers"),bt=new u("@ngrx/store Internal Resolved Meta Reducers"),It=new u("@ngrx/store User Runtime Checks Config"),Ot=new u("@ngrx/store Internal User Runtime Checks Config"),z=new u("@ngrx/store Internal Runtime Checks"),Pt=new u("@ngrx/store Check if Action types are unique"),ce=new u("@ngrx/store Root Store Provider"),Ut=new u("@ngrx/store Feature State Provider");function dn(e,r={}){let t=Object.keys(e),n={};for(let s=0;s<t.length;s++){let o=t[s];typeof e[o]=="function"&&(n[o]=e[o])}let i=Object.keys(n);return function(o,a){o=o===void 0?r:o;let l=!1,h={};for(let f=0;f<i.length;f++){let y=i[f],Y=n[y],W=o[y],et=Y(W,a);h[y]=et,l=l||et!==W}return l?h:o}}function pn(e,r){return Object.keys(e).filter(t=>t!==r).reduce((t,n)=>Object.assign(t,{[n]:e[n]}),{})}function Gt(...e){return function(r){if(e.length===0)return r;let t=e[e.length-1];return e.slice(0,-1).reduceRight((i,s)=>s(i),t(r))}}function kt(e,r){return Array.isArray(r)&&r.length>0&&(e=Gt.apply(null,[...r,e])),(t,n)=>{let i=e(t);return(s,o)=>(s=s===void 0?n:s,i(s,o))}}function hn(e){let r=Array.isArray(e)&&e.length>0?Gt(...e):t=>t;return(t,n)=>(t=r(t),(i,s)=>(i=i===void 0?n:i,t(i,s)))}var H=class extends j{},ue=class extends P{},gn="@ngrx/store/update-reducers",je=(()=>{class e extends J{get currentReducers(){return this.reducers}constructor(t,n,i,s){super(s(i,n)),this.dispatcher=t,this.initialState=n,this.reducers=i,this.reducerFactory=s}addFeature(t){this.addFeatures([t])}addFeatures(t){let n=t.reduce((i,{reducers:s,reducerFactory:o,metaReducers:a,initialState:l,key:h})=>{let f=typeof s=="function"?hn(a)(s,l):kt(o,a)(s,l);return i[h]=f,i},{});this.addReducers(n)}removeFeature(t){this.removeFeatures([t])}removeFeatures(t){this.removeReducers(t.map(n=>n.key))}addReducer(t,n){this.addReducers({[t]:n})}addReducers(t){this.reducers=m(m({},this.reducers),t),this.updateReducers(Object.keys(t))}removeReducer(t){this.removeReducers([t])}removeReducers(t){t.forEach(n=>{this.reducers=pn(this.reducers,n)}),this.updateReducers(t)}updateReducers(t){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:gn,features:t})}ngOnDestroy(){this.complete()}static{this.\u0275fac=function(n){return new(n||e)(c(ue),c(Ge),c(Nt),c(Dt))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})(),mn=[je,{provide:H,useExisting:je},{provide:ue,useExisting:P}],K=(()=>{class e extends Z{ngOnDestroy(){this.complete()}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=D(e)))(i||e)}})()}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})(),En=[K],fe=class extends j{},Ft=(()=>{class e extends J{static{this.INIT=wt}constructor(t,n,i,s){super(s);let a=t.pipe(nt(tt)).pipe(dt(n)),l={state:s},h=a.pipe(lt(vn,l));this.stateSubscription=h.subscribe(({state:f,action:y})=>{this.next(f),i.next(y)}),this.state=Le(this,{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}static{this.\u0275fac=function(n){return new(n||e)(c(P),c(H),c(K),c(Ge))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})();function vn(e={state:void 0},[r,t]){let{state:n}=e;return{state:t(n,r),action:r}}var yn=[Ft,{provide:fe,useExisting:Ft}],b=(()=>{class e extends j{constructor(t,n,i){super(),this.actionsObserver=n,this.reducerManager=i,this.source=t,this.state=t.state}select(t,...n){return An.call(null,t,...n)(this)}selectSignal(t,n){return se(()=>t(this.state()),n)}lift(t){let n=new e(this,this.actionsObserver,this.reducerManager);return n.operator=t,n}dispatch(t){this.actionsObserver.next(t)}next(t){this.actionsObserver.next(t)}error(t){this.actionsObserver.error(t)}complete(){this.actionsObserver.complete()}addReducer(t,n){this.reducerManager.addReducer(t,n)}removeReducer(t){this.reducerManager.removeReducer(t)}static{this.\u0275fac=function(n){return new(n||e)(c(fe),c(P),c(je))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})(),Sn=[b];function An(e,r,...t){return function(i){let s;if(typeof e=="string"){let o=[r,...t].filter(Boolean);s=i.pipe(ft(e,...o))}else if(typeof e=="function")s=i.pipe(R(o=>e(o,r)));else throw new TypeError(`Unexpected type '${typeof e}' in select operator, expected 'string' or 'function'`);return s.pipe(at())}}var ke="https://ngrx.io/guide/store/configuration/runtime-checks";function _t(e){return e===void 0}function Lt(e){return e===null}function Vt(e){return Array.isArray(e)}function Rn(e){return typeof e=="string"}function Cn(e){return typeof e=="boolean"}function Tn(e){return typeof e=="number"}function $t(e){return typeof e=="object"&&e!==null}function bn(e){return $t(e)&&!Vt(e)}function In(e){if(!bn(e))return!1;let r=Object.getPrototypeOf(e);return r===Object.prototype||r===null}function De(e){return typeof e=="function"}function On(e){return De(e)&&e.hasOwnProperty("\u0275cmp")}function Fn(e,r){return Object.prototype.hasOwnProperty.call(e,r)}var _n=!1;function Ln(){return _n}function xt(e,r){return e===r}function xn(e,r,t){for(let n=0;n<e.length;n++)if(!t(e[n],r[n]))return!0;return!1}function Bt(e,r=xt,t=xt){let n=null,i=null,s;function o(){n=null,i=null}function a(f=void 0){s={result:f}}function l(){s=void 0}function h(){if(s!==void 0)return s.result;if(!n)return i=e.apply(null,arguments),n=arguments,i;if(!xn(arguments,n,r))return i;let f=e.apply(null,arguments);return n=arguments,t(i,f)?i:(i=f,f)}return{memoized:h,reset:o,setResult:a,clearResult:l}}function d(...e){return wn(Bt)(...e)}function Mn(e,r,t,n){if(t===void 0){let s=r.map(o=>o(e));return n.memoized.apply(null,s)}let i=r.map(s=>s(e,t));return n.memoized.apply(null,[...i,t])}function wn(e,r={stateFn:Mn}){return function(...t){let n=t;if(Array.isArray(n[0])){let[f,...y]=n;n=[...f,...y]}else n.length===1&&jn(n[0])&&(n=Dn(n[0]));let i=n.slice(0,n.length-1),s=n[n.length-1],o=i.filter(f=>f.release&&typeof f.release=="function"),a=e(function(...f){return s.apply(null,f)}),l=Bt(function(f,y){return r.stateFn.apply(null,[f,i,y,a])});function h(){l.reset(),a.reset(),o.forEach(f=>f.release())}return Object.assign(l.memoized,{release:h,projector:a.memoized,setResult:l.setResult,clearResult:l.clearResult})}}function A(e){return d(r=>{let t=r[e];return!Ln()&&_e()&&!(e in r)&&console.warn(`@ngrx/store: The feature name "${e}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${e}', ...) or StoreModule.forFeature('${e}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),t},r=>r)}function jn(e){return!!e&&typeof e=="object"&&Object.values(e).every(r=>typeof r=="function")}function Dn(e){let r=Object.values(e),t=Object.keys(e),n=(...i)=>t.reduce((s,o,a)=>O(m({},s),{[o]:i[a]}),{});return[...r,n]}function Nn(e){return e instanceof u?g(e):e}function Pn(e){return typeof e=="function"?e():e}function Un(e,r){return e.concat(r)}function Gn(){if(g(b,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function kn(e,r){return function(t,n){let i=r.action(n)?Ne(n):n,s=e(t,i);return r.state()?Ne(s):s}}function Ne(e){Object.freeze(e);let r=De(e);return Object.getOwnPropertyNames(e).forEach(t=>{if(!t.startsWith("\u0275")&&Fn(e,t)&&(!r||t!=="caller"&&t!=="callee"&&t!=="arguments")){let n=e[t];($t(n)||De(n))&&!Object.isFrozen(n)&&Ne(n)}}),e}function Vn(e,r){return function(t,n){if(r.action(n)){let s=Pe(n);Mt(s,"action")}let i=e(t,n);if(r.state()){let s=Pe(i);Mt(s,"state")}return i}}function Pe(e,r=[]){return(_t(e)||Lt(e))&&r.length===0?{path:["root"],value:e}:Object.keys(e).reduce((n,i)=>{if(n)return n;let s=e[i];return On(s)?n:_t(s)||Lt(s)||Tn(s)||Cn(s)||Rn(s)||Vt(s)?!1:In(s)?Pe(s,[...r,i]):{path:[...r,i],value:s}},!1)}function Mt(e,r){if(e===!1)return;let t=e.path.join("."),n=new Error(`Detected unserializable ${r} at "${t}". ${ke}#strict${r}serializability`);throw n.value=e.value,n.unserializablePath=t,n}function $n(e,r){return function(t,n){if(r.action(n)&&!mt.isInAngularZone())throw new Error(`Action '${n.type}' running outside NgZone. ${ke}#strictactionwithinngzone`);return e(t,n)}}function Bn(e){return _e()?m({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},e):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function zn({strictActionSerializability:e,strictStateSerializability:r}){return t=>e||r?Vn(t,{action:n=>e&&!Ve(n),state:()=>r}):t}function Hn({strictActionImmutability:e,strictStateImmutability:r}){return t=>e||r?kn(t,{action:n=>e&&!Ve(n),state:()=>r}):t}function Ve(e){return e.type.startsWith("@ngrx")}function Kn({strictActionWithinNgZone:e}){return r=>e?$n(r,{action:t=>e&&!Ve(t)}):r}function qn(e){return[{provide:Ot,useValue:e},{provide:It,useFactory:Yn,deps:[Ot]},{provide:z,deps:[It],useFactory:Bn},{provide:ae,multi:!0,deps:[z],useFactory:Hn},{provide:ae,multi:!0,deps:[z],useFactory:zn},{provide:ae,multi:!0,deps:[z],useFactory:Kn}]}function Qn(){return[{provide:Pt,multi:!0,deps:[z],useFactory:Wn}]}function Yn(e){return e}function Wn(e){if(!e.strictActionTypeUniqueness)return;let r=Object.entries(we).filter(([,t])=>t>1).map(([t])=>t);if(r.length)throw new Error(`Action types are registered more than once, ${r.map(t=>`"${t}"`).join(", ")}. ${ke}#strictactiontypeuniqueness`)}function Zn(e={},r={}){return[{provide:jt,useFactory:Gn},{provide:At,useValue:r.initialState},{provide:Ge,useFactory:Pn,deps:[At]},{provide:Me,useValue:e},{provide:Ct,useExisting:e instanceof u?e:Me},{provide:Nt,deps:[Me,[new pt(Ct)]],useFactory:Nn},{provide:Tt,useValue:r.metaReducers?r.metaReducers:[]},{provide:bt,deps:[ae,Tt],useFactory:Un},{provide:Rt,useValue:r.reducerFactory?r.reducerFactory:dn},{provide:Dt,deps:[Rt,bt],useFactory:kt},ln,mn,En,yn,Sn,qn(r.runtimeChecks),Qn()]}function Jn(){g(P),g(H),g(K),g(b),g(jt,{optional:!0}),g(Pt,{optional:!0})}var Xn=[{provide:ce,useFactory:Jn},{provide:ne,multi:!0,useFactory(){return()=>g(ce)}}];function Kr(e,r){return ie([...Zn(e,r),Xn])}function qr(...e){let r=e.pop(),t=e.map(n=>n.type);return{reducer:r,types:t}}function Qr(e,...r){let t=new Map;for(let n of r)for(let i of n.types){let s=t.get(i);if(s){let o=(a,l)=>n.reducer(s(a,l),l);t.set(i,o)}else t.set(i,n.reducer)}return function(n=e,i){let s=t.get(i.type);return s?s(n,i):n}}var v=function(e){return e.SETTINGS="SETTINGS",e.APP_CONFIG_GENERAL="APP_CONFIG_GENERAL",e.APP_CONFIG_LANGUAGE="APP_CONFIG_LANGUAGE",e.APP_CONFIG_USER_MENU="APP_CONFIG_USER_MENU",e.APP_CONFIG_THEME="APP_CONFIG_THEME",e.APP_CATALOG="APP_CATALOG",e.APP_CART="APP_CART",e.APP_ORDERS="APP_ORDERS",e.APP_CATEGORIES="APP_CATEGORIES",e}(v||{}),_=function(e){return e.SIDEBAR_MENU="SIDEBAR_MENU",e.USER_MENU="USER_MENU",e.USER_MENU_OPEN="USER_MENU_OPEN",e.TOOLBAR_BOTTOM_MENU="TOOLBAR_BOTTOM_MENU",e.SIDEBAR_FILTERS_OPEN="SIDEBAR_FILTERS_OPEN",e.SIDEBAR_FILTERS_SHOW_BTN="SIDEBAR_FILTERS_SHOW_BTN",e}(_||{}),q=function(e){return e.LANGUAGE_MENU="LANGUAGE_MENU",e.LANGUAGE_MENU_OPEN="LANGUAGE_MENU_OPEN",e.DEFAULT_LANGUAGE="DEFAULT_LANGUAGE",e}(q||{}),le=function(e){return e.COLOR_SCHEME="COLOR_SCHEME",e.THEME="THEME",e}(le||{}),L=function(e){return e.CATALOG="CATALOG",e}(L||{}),de=function(e){return e.CART="CART",e.ITEM="ITEM",e.QUANTITY="QUANTITY",e.TOTAL_QUANTITY="TOTAL_QUANTITY",e}(de||{}),$e=function(e){return e.ORDERS="ORDERS",e}($e||{}),Be=function(e){return e.CATEGORIES="CATEGORIES",e}(Be||{});var Ht=C({source:"APP CART",events:{"Add Item To Cart":E(),"Remove Item From Cart":E(),"Clear Cart":S(),"Quantity Item Change":E()}});var bi=C({source:"APP CATALOG",events:{"Toggle Is Favorite":E()}});var Fi=C({source:"APP CONFIG",events:{"Init Default Application Config":S(),"Open User Profile Menu":S(),"Close User Profile Menu":S(),"Open Sidebar Filters":S(),"Close Sidebar Filters":S(),"Set Sidebar Filters Show Button":S(),"Set Sidebar Filters Hide Button":S(),"Update Quantity Cart":E()}});var Kt=C({source:"APP ORDERS",events:{"Create Order":E()}});var U=class{},qt=(()=>{class e extends U{getTranslation(t){return T({})}static \u0275fac=(()=>{let t;return function(i){return(t||(t=D(e)))(i||e)}})();static \u0275prov=p({token:e,factory:e.\u0275fac})}return e})(),Q=class{},Qt=(()=>{class e{handle(t){return t.key}static \u0275fac=function(n){return new(n||e)};static \u0275prov=p({token:e,factory:e.\u0275fac})}return e})();function pe(e,r){if(e===r)return!0;if(e===null||r===null)return!1;if(e!==e&&r!==r)return!0;let t=typeof e,n=typeof r,i,s,o;if(t==n&&t=="object")if(Array.isArray(e)){if(!Array.isArray(r))return!1;if((i=e.length)==r.length){for(s=0;s<i;s++)if(!pe(e[s],r[s]))return!1;return!0}}else{if(Array.isArray(r))return!1;o=Object.create(null);for(s in e){if(!pe(e[s],r[s]))return!1;o[s]=!0}for(s in r)if(!(s in o)&&typeof r[s]<"u")return!1;return!0}return!1}function x(e){return typeof e<"u"&&e!==null}function ze(e){return e&&typeof e=="object"&&!Array.isArray(e)}function Zt(e,r){let t=Object.assign({},e);return ze(e)&&ze(r)&&Object.keys(r).forEach(n=>{ze(r[n])?n in e?t[n]=Zt(e[n],r[n]):Object.assign(t,{[n]:r[n]}):Object.assign(t,{[n]:r[n]})}),t}var G=class{},Yt=(()=>{class e extends G{templateMatcher=/{{\s?([^{}\s]*)\s?}}/g;interpolate(t,n){let i;return typeof t=="string"?i=this.interpolateString(t,n):typeof t=="function"?i=this.interpolateFunction(t,n):i=t,i}getValue(t,n){let i=typeof n=="string"?n.split("."):[n];n="";do n+=i.shift(),x(t)&&x(t[n])&&(typeof t[n]=="object"||!i.length)?(t=t[n],n=""):i.length?n+=".":t=void 0;while(i.length);return t}interpolateFunction(t,n){return t(n)}interpolateString(t,n){return n?t.replace(this.templateMatcher,(i,s)=>{let o=this.getValue(n,s);return x(o)?o:i}):t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=D(e)))(i||e)}})();static \u0275prov=p({token:e,factory:e.\u0275fac})}return e})(),k=class{},Wt=(()=>{class e extends k{compile(t,n){return t}compileTranslations(t,n){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=D(e)))(i||e)}})();static \u0275prov=p({token:e,factory:e.\u0275fac})}return e})(),he=class{defaultLang;currentLang=this.defaultLang;translations={};langs=[];onTranslationChange=new w;onLangChange=new w;onDefaultLangChange=new w},He=new u("USE_STORE"),Ke=new u("USE_DEFAULT_LANG"),qe=new u("DEFAULT_LANGUAGE"),Qe=new u("USE_EXTEND"),I=(()=>{class e{store;currentLoader;compiler;parser;missingTranslationHandler;useDefaultLang;isolate;extend;loadingTranslations;pending=!1;_onTranslationChange=new w;_onLangChange=new w;_onDefaultLangChange=new w;_defaultLang;_currentLang;_langs=[];_translations={};_translationRequests={};get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(t){this.isolate?this._defaultLang=t:this.store.defaultLang=t}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(t){this.isolate?this._currentLang=t:this.store.currentLang=t}get langs(){return this.isolate?this._langs:this.store.langs}set langs(t){this.isolate?this._langs=t:this.store.langs=t}get translations(){return this.isolate?this._translations:this.store.translations}set translations(t){this.isolate?this._translations=t:this.store.translations=t}constructor(t,n,i,s,o,a=!0,l=!1,h=!1,f){this.store=t,this.currentLoader=n,this.compiler=i,this.parser=s,this.missingTranslationHandler=o,this.useDefaultLang=a,this.isolate=l,this.extend=h,f&&this.setDefaultLang(f)}setDefaultLang(t){if(t===this.defaultLang)return;let n=this.retrieveTranslations(t);typeof n<"u"?(this.defaultLang==null&&(this.defaultLang=t),n.pipe(M(1)).subscribe(i=>{this.changeDefaultLang(t)})):this.changeDefaultLang(t)}getDefaultLang(){return this.defaultLang}use(t){if(t===this.currentLang)return T(this.translations[t]);let n=this.retrieveTranslations(t);return typeof n<"u"?(this.currentLang||(this.currentLang=t),n.pipe(M(1)).subscribe(i=>{this.changeLang(t)}),n):(this.changeLang(t),T(this.translations[t]))}retrieveTranslations(t){let n;return(typeof this.translations[t]>"u"||this.extend)&&(this._translationRequests[t]=this._translationRequests[t]||this.getTranslation(t),n=this._translationRequests[t]),n}getTranslation(t){this.pending=!0;let n=this.currentLoader.getTranslation(t).pipe(Ce(1),M(1));return this.loadingTranslations=n.pipe(R(i=>this.compiler.compileTranslations(i,t)),Ce(1),M(1)),this.loadingTranslations.subscribe({next:i=>{this.translations[t]=this.extend&&this.translations[t]?m(m({},i),this.translations[t]):i,this.updateLangs(),this.pending=!1},error:i=>{this.pending=!1}}),n}setTranslation(t,n,i=!1){n=this.compiler.compileTranslations(n,t),(i||this.extend)&&this.translations[t]?this.translations[t]=Zt(this.translations[t],n):this.translations[t]=n,this.updateLangs(),this.onTranslationChange.emit({lang:t,translations:this.translations[t]})}getLangs(){return this.langs}addLangs(t){t.forEach(n=>{this.langs.indexOf(n)===-1&&this.langs.push(n)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(t,n,i){let s;if(n instanceof Array){let o={},a=!1;for(let l of n)o[l]=this.getParsedResult(t,l,i),F(o[l])&&(a=!0);if(a){let l=n.map(h=>F(o[h])?o[h]:T(o[h]));return rt(l).pipe(R(h=>{let f={};return h.forEach((y,Y)=>{f[n[Y]]=y}),f}))}return o}if(t&&(s=this.parser.interpolate(this.parser.getValue(t,n),i)),typeof s>"u"&&this.defaultLang!=null&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(s=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],n),i)),typeof s>"u"){let o={key:n,translateService:this};typeof i<"u"&&(o.interpolateParams=i),s=this.missingTranslationHandler.handle(o)}return typeof s<"u"?s:n}get(t,n){if(!x(t)||!t.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe(Ae(i=>(i=this.getParsedResult(i,t,n),F(i)?i:T(i))));{let i=this.getParsedResult(this.translations[this.currentLang],t,n);return F(i)?i:T(i)}}getStreamOnTranslationChange(t,n){if(!x(t)||!t.length)throw new Error('Parameter "key" required');return ye(X(()=>this.get(t,n)),this.onTranslationChange.pipe(Te(i=>{let s=this.getParsedResult(i.translations,t,n);return typeof s.subscribe=="function"?s:T(s)})))}stream(t,n){if(!x(t)||!t.length)throw new Error('Parameter "key" required');return ye(X(()=>this.get(t,n)),this.onLangChange.pipe(Te(i=>{let s=this.getParsedResult(i.translations,t,n);return F(s)?s:T(s)})))}instant(t,n){if(!x(t)||!t.length)throw new Error('Parameter "key" required');let i=this.getParsedResult(this.translations[this.currentLang],t,n);if(F(i)){if(t instanceof Array){let s={};return t.forEach((o,a)=>{s[t[a]]=t[a]}),s}return t}else return i}set(t,n,i=this.currentLang){this.translations[i][t]=this.compiler.compile(n,i),this.updateLangs(),this.onTranslationChange.emit({lang:i,translations:this.translations[i]})}changeLang(t){this.currentLang=t,this.onLangChange.emit({lang:t,translations:this.translations[t]}),this.defaultLang==null&&this.changeDefaultLang(t)}changeDefaultLang(t){this.defaultLang=t,this.onDefaultLangChange.emit({lang:t,translations:this.translations[t]})}reloadLang(t){return this.resetLang(t),this.getTranslation(t)}resetLang(t){this._translationRequests[t]=void 0,this.translations[t]=void 0}getBrowserLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let t=window.navigator.languages?window.navigator.languages[0]:null;if(t=t||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,!(typeof t>"u"))return t.indexOf("-")!==-1&&(t=t.split("-")[0]),t.indexOf("_")!==-1&&(t=t.split("_")[0]),t}getBrowserCultureLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let t=window.navigator.languages?window.navigator.languages[0]:null;return t=t||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,t}static \u0275fac=function(n){return new(n||e)(c(he),c(U),c(k),c(G),c(Q),c(Ke),c(He),c(Qe),c(qe))};static \u0275prov=p({token:e,factory:e.\u0275fac})}return e})();var Bi=(()=>{class e{translate;_ref;value="";lastKey=null;lastParams=[];onTranslationChange;onLangChange;onDefaultLangChange;constructor(t,n){this.translate=t,this._ref=n}updateValue(t,n,i){let s=o=>{this.value=o!==void 0?o:t,this.lastKey=t,this._ref.markForCheck()};if(i){let o=this.translate.getParsedResult(i,t,n);F(o.subscribe)?o.subscribe(s):s(o)}this.translate.get(t,n).subscribe(s)}transform(t,...n){if(!t||!t.length)return t;if(pe(t,this.lastKey)&&pe(n,this.lastParams))return this.value;let i;if(x(n[0])&&n.length)if(typeof n[0]=="string"&&n[0].length){let s=n[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{i=JSON.parse(s)}catch{throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${n[0]}`)}}else typeof n[0]=="object"&&!Array.isArray(n[0])&&(i=n[0]);return this.lastKey=t,this.lastParams=n,this.updateValue(t,i),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(s=>{this.lastKey&&s.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(t,i,s.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(s=>{this.lastKey&&(this.lastKey=null,this.updateValue(t,i,s.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(t,i))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}static \u0275fac=function(n){return new(n||e)(Oe(I,16),Oe(vt,16))};static \u0275pipe=ht({name:"translate",type:e,pure:!1});static \u0275prov=p({token:e,factory:e.\u0275fac})}return e})(),zi=(()=>{class e{static forRoot(t={}){return{ngModule:e,providers:[t.loader||{provide:U,useClass:qt},t.compiler||{provide:k,useClass:Wt},t.parser||{provide:G,useClass:Yt},t.missingTranslationHandler||{provide:Q,useClass:Qt},he,{provide:He,useValue:t.isolate},{provide:Ke,useValue:t.useDefaultLang},{provide:Qe,useValue:t.extend},{provide:qe,useValue:t.defaultLanguage},I]}}static forChild(t={}){return{ngModule:e,providers:[t.loader||{provide:U,useClass:qt},t.compiler||{provide:k,useClass:Wt},t.parser||{provide:G,useClass:Yt},t.missingTranslationHandler||{provide:Q,useClass:Qt},{provide:He,useValue:t.isolate},{provide:Ke,useValue:t.useDefaultLang},{provide:Qe,useValue:t.extend},{provide:qe,useValue:t.defaultLanguage},I]}}static \u0275fac=function(n){return new(n||e)};static \u0275mod=re({type:e});static \u0275inj=te({})}return e})();var Jt=A(v.APP_CART),Qi=d(Jt,e=>e[de.TOTAL_QUANTITY]),Yi=d(Jt,e=>e[de.CART]);var V=A(v.APP_CATALOG),Xi=d(V,e=>e[L.CATALOG]),es=e=>d(V,r=>r[L.CATALOG].filter(n=>n.category===e)),ts=e=>d(V,r=>{let t=r[L.CATALOG].find(n=>n.uid===e);return t||null}),ns=d(V,e=>e[L.CATALOG].filter(t=>t.isFavorite));var er=A(v.APP_CATEGORIES),cs=d(er,V,(e,r)=>{let t=e[Be.CATEGORIES],n=r[L.CATALOG];if(!t||!n)return[];let i={};return n.forEach(o=>{let a=o.category;a&&(i[a]=(i[a]??0)+1)}),t.map(o=>O(m({},o),{quantity:i[o.routerLink]??0,routerLink:[yt.CATALOG,o.routerLink].join("/")}))});var $=A(v.APP_CONFIG_GENERAL),ps=d($,e=>e[_.SIDEBAR_MENU]),hs=d($,e=>e[_.USER_MENU]),gs=d($,e=>e[_.USER_MENU_OPEN]),ms=d($,e=>e[_.TOOLBAR_BOTTOM_MENU]),Es=d($,e=>e[_.SIDEBAR_FILTERS_OPEN]),vs=d($,e=>e[_.SIDEBAR_FILTERS_SHOW_BTN]);var tr=A(v.APP_ORDERS),Rs=d(tr,e=>e[$e.ORDERS]);var Xt=A(v.APP_CONFIG_THEME),Is=d(Xt,e=>e[le.COLOR_SCHEME]),Os=d(Xt,e=>e[le.THEME]);var We=C({source:"APP LANGUAGE",events:{"Init Default Application Language":S(),"Update Application Language":E(),"Set New Application Language":E(),"Open Language Menu":S(),"Close Language Menu":S()}});var Ms=C({source:"APP THEME",events:{"Set Color Scheme":E()}});var nr={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},ge="__@ngrx/effects_create__";function me(e,r={}){let t=r.functional?e:e(),n=m(m({},nr),r);return Object.defineProperty(t,ge,{value:n}),t}function rr(e){return Object.getOwnPropertyNames(e).filter(n=>e[n]&&e[n].hasOwnProperty(ge)?e[n][ge].hasOwnProperty("dispatch"):!1).map(n=>{let i=e[n][ge];return m({propertyName:n},i)})}function ir(e){return rr(e)}function en(e){return Object.getPrototypeOf(e)}function sr(e){return!!e.constructor&&e.constructor.name!=="Object"&&e.constructor.name!=="Function"}function tn(e){return typeof e=="function"}function or(e){return e.filter(tn)}function ar(e,r,t){let n=en(e),s=!!n&&n.constructor.name!=="Object"?n.constructor.name:null,o=ir(e).map(({propertyName:a,dispatch:l,useEffectsErrorHandler:h})=>{let f=typeof e[a]=="function"?e[a]():e[a],y=h?t(f,r):f;return l===!1?y.pipe(st()):y.pipe(ut()).pipe(R(W=>({effect:e[a],notification:W,propertyName:a,sourceName:s,sourceInstance:e})))});return Se(...o)}var cr=10;function nn(e,r,t=cr){return e.pipe(it(n=>(r&&r.handleError(n),t<=1?e:nn(e,r,t-1))))}var B=(()=>{class e extends j{constructor(t){super(),t&&(this.source=t)}lift(t){let n=new e;return n.source=this,n.operator=t,n}static{this.\u0275fac=function(n){return new(n||e)(c(K))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Ee(...e){return ee(r=>e.some(t=>typeof t=="string"?t===r.type:t.type===r.type))}var Js=new u("@ngrx/effects Internal Root Guard"),Xs=new u("@ngrx/effects User Provided Effects"),eo=new u("@ngrx/effects Internal Root Effects"),to=new u("@ngrx/effects Internal Root Effects Instances"),no=new u("@ngrx/effects Internal Feature Effects"),ro=new u("@ngrx/effects Internal Feature Effects Instance Groups"),ur=new u("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>nn}),fr="@ngrx/effects/init",lr=Ue(fr);function dr(e,r){if(e.notification.kind==="N"){let t=e.notification.value;!pr(t)&&r.handleError(new Error(`Effect ${hr(e)} dispatched an invalid action: ${gr(t)}`))}}function pr(e){return typeof e!="function"&&e&&e.type&&typeof e.type=="string"}function hr({propertyName:e,sourceInstance:r,sourceName:t}){let n=typeof r[e]=="function";return!!t?`"${t}.${String(e)}${n?"()":""}"`:`"${String(e)}()"`}function gr(e){try{return JSON.stringify(e)}catch{return e}}var mr="ngrxOnIdentifyEffects";function Er(e){return Ze(e,mr)}var vr="ngrxOnRunEffects";function yr(e){return Ze(e,vr)}var Sr="ngrxOnInitEffects";function Ar(e){return Ze(e,Sr)}function Ze(e,r){return e&&r in e&&typeof e[r]=="function"}var rn=(()=>{class e extends Z{constructor(t,n){super(),this.errorHandler=t,this.effectsErrorHandler=n}addEffects(t){this.next(t)}toActions(){return this.pipe(Re(t=>sr(t)?en(t):t),ve(t=>t.pipe(Re(Rr))),ve(t=>{let n=t.pipe(ct(s=>Cr(this.errorHandler,this.effectsErrorHandler)(s)),R(s=>(dr(s,this.errorHandler),s.notification)),ee(s=>s.kind==="N"&&s.value!=null),ot()),i=t.pipe(M(1),ee(Ar),R(s=>s.ngrxOnInitEffects()));return Se(n,i)}))}static{this.\u0275fac=function(n){return new(n||e)(c(Et),c(ur))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Rr(e){return Er(e)?e.ngrxOnIdentifyEffects():""}function Cr(e,r){return t=>{let n=ar(t,e,r);return yr(t)?t.ngrxOnRunEffects(n):n}}var Tr=(()=>{class e{get isStarted(){return!!this.effectsSubscription}constructor(t,n){this.effectSources=t,this.store=n,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}static{this.\u0275fac=function(n){return new(n||e)(c(rn),c(b))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function io(...e){let r=e.flat(),t=or(r);return ie([t,{provide:ne,multi:!0,useValue:()=>{g(ce),g(Ut,{optional:!0});let n=g(Tr),i=g(rn),s=!n.isStarted;s&&n.start();for(let o of r){let a=tn(o)?g(o):o;i.addEffects(a)}s&&g(b).dispatch(lr())}}])}var oo=(()=>{class e{constructor(t){this.actions$=t}static{this.\u0275fac=function(n){return new(n||e)(c(B))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})();var lo=(()=>{class e{constructor(t,n){this.actions$=t,this.translateService=n,this.updateLanguage$=me(()=>this.actions$.pipe(Ee(We.updateApplicationLanguage),R(i=>{let{language:s}=i;return this.translateService.use(s),We.setNewApplicationLanguage({language:s})})))}static{this.\u0275fac=function(n){return new(n||e)(c(B),c(I))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})();var sn=(()=>{class e{constructor(t,n){this.message=t,this.translateService=n}sendError(t){let n=this.translateService.instant("MESSAGES.TITLE.ERROR"),i=this.translateService.instant(t);this.message.add({severity:"error",summary:n,detail:i,life:oe.TIME_LIFE_MESSAGE})}sendSuccess(t){let n=this.translateService.instant("MESSAGES.TITLE.SUCCESS"),i=this.translateService.instant(t);this.message.add({severity:"success",summary:n,detail:i,life:oe.TIME_LIFE_MESSAGE})}sendWarning(t){let n=this.translateService.instant("MESSAGES.TITLE.WARNING"),i=this.translateService.instant(t);this.message.add({severity:"warn",summary:n,detail:i,life:oe.TIME_LIFE_MESSAGE})}static{this.\u0275fac=function(n){return new(n||e)(c(St),c(I))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var yo=(()=>{class e{constructor(t,n,i,s){this.actions$=t,this.translateService=n,this.messagesService=i,this.store=s,this.loadCarriages$=me(()=>this.actions$.pipe(Ee(Kt.createOrder),R(()=>(this.messagesService.sendSuccess("\u0417\u0430\u043A\u0430\u0437 \u043E\u0444\u043E\u0440\u043C\u043B\u0435\u043D \u0443\u0441\u043F\u0435\u0448\u043D\u043E"),Ht.clearCart()))))}static{this.\u0275fac=function(n){return new(n||e)(c(B),c(I),c(sn),c(b))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})();var Xe=A(v.APP_CONFIG_LANGUAGE),Oo=d(Xe,e=>e[q.DEFAULT_LANGUAGE]),Fo=d(Xe,e=>e[q.LANGUAGE_MENU]),_o=d(Xe,e=>e[q.LANGUAGE_MENU_OPEN]);export{Le as a,wt as b,P as c,Ge as d,H as e,ue as f,gn as g,K as h,fe as i,b as j,Kr as k,qr as l,Qr as m,v as n,_ as o,q as p,le as q,L as r,de as s,$e as t,Be as u,Ht as v,bi as w,Fi as x,We as y,Kt as z,Ms as A,io as B,oo as C,U as D,I as E,Bi as F,zi as G,lo as H,yo as I,Qi as J,Yi as K,es as L,ts as M,ns as N,cs as O,ps as P,hs as Q,gs as R,ms as S,Es as T,vs as U,Oo as V,Fo as W,_o as X,Rs as Y,Is as Z,Os as _};

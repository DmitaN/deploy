import"./chunk-5DY23JTE.js";import"./chunk-HNMIBE2L.js";import{c as Q,d as Y}from"./chunk-BXCC54SQ.js";import"./chunk-DJNBFIVG.js";import{c as R,d as W,e as O}from"./chunk-HM47BV3R.js";import"./chunk-ROZIN53M.js";import{F as D,G as U,M as z,j as E,v as N,w as q}from"./chunk-WLPUF3YY.js";import"./chunk-4YRY4IP2.js";import"./chunk-YQUWKHNR.js";import{J as j,K as L,g as F,o as S}from"./chunk-UCQH3X34.js";import{q as P,r as A}from"./chunk-P6PSCONH.js";import"./chunk-CDADC7BR.js";import{$b as f,Bb as c,Ca as u,Cb as p,Da as l,Mb as M,Ob as T,Pb as I,Qb as V,Rb as k,Tb as B,Ua as g,Xa as r,Ya as w,_b as d,aa as C,jb as y,la as _,mb as m,pb as x,ra as h,tb as n,ub as a,vb as v,zb as b}from"./chunk-ERNPZIPW.js";function H(o,G){if(o&1){let t=b();n(0,"div",1),v(1,"img",2),n(2,"p",3),M(3),d(4,"translate"),a(),n(5,"div")(6,"p-inputNumber",4),k("ngModelChange",function(i){u(t);let s=p();return V(s.quantity,i)||(s.quantity=i),l(i)}),a()(),n(7,"div",5)(8,"p-button",6),c("onClick",function(){u(t);let i=p();return l(i.handleToggleFavorite())}),a(),n(9,"p-button",7),c("onClick",function(){u(t);let i=p();return l(i.handleAddToCart())}),a()()()}if(o&2){let t=p();r(),m("src",G.imageUrl,g),r(2),T(" ",f(4,9,t.label)," "),r(3),I("ngModel",t.quantity),m("showButtons",!0)("step",1)("min",1)("max",100),r(2),m("icon",t.isFavorite)("text",!0)}}var ct=(()=>{class o{get isFavorite(){return this.product?.isFavorite?"pi pi-bookmark-fill ":"pi pi-bookmark"}constructor(t){this.route=t,this.store=_(E),this.label="\u043E\u043F\u0438\u0441\u0430\u043D\u0438\u0435",this.quantity=1}ngOnInit(){let t=this.route.snapshot.params[S.UID];t&&(this.product$=this.store.select(z(t)).pipe(C(e=>{e&&(this.product=e)})))}ngOnDestroy(){this.quantity=1}handleAddToCart(){this.product&&this.store.dispatch(N.addItemToCart({ITEM:this.product,QUANTITY:this.quantity}))}handleToggleFavorite(){this.product&&this.store.dispatch(q.toggleIsFavorite({item:this.product}))}static{this.\u0275fac=function(e){return new(e||o)(w(F))}}static{this.\u0275cmp=h({type:o,selectors:[["app-product-view"]],standalone:!0,features:[B],decls:3,vars:3,consts:[[1,"flex","fadein","justify-content-center","col-12"],[1,"product__card","card"],["alt","product_image","width","100%",1,"mb-8",3,"src"],[1,"mb-4"],["buttonLayout","horizontal","inputId","horizontal","spinnerMode","horizontal","decrementButtonClass","p-button-danger","incrementButtonClass","p-button-success","incrementButtonIcon","pi pi-plus","decrementButtonIcon","pi pi-minus","styleClass","w-full",1,"mb-4","w-full",3,"ngModelChange","ngModel","showButtons","step","min","max"],[1,"flex","flex-column","gap-2"],[3,"onClick","icon","text"],["label","\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0432 \u043A\u043E\u0440\u0437\u0438\u043D\u0443","styleClass","w-full",3,"onClick"]],template:function(e,i){if(e&1&&(n(0,"div",0),y(1,H,10,11,"div",1),d(2,"async"),a()),e&2){let s;r(),x((s=f(2,1,i.product$))?1:-1,s)}},dependencies:[U,D,L,j,Y,Q,O,R,W,A,P]})}}return o})();export{ct as ProductViewComponent};

import{a as T,b as j,e as x,f as y,g as f,h as D,i as $}from"./chunk-BXCC54SQ.js";import{U as I,Z as Q,a as h,j as N}from"./chunk-WLPUF3YY.js";import{K as _,f as E,h as F,i as R,l as A,m as u}from"./chunk-UCQH3X34.js";import{l as w,r as B}from"./chunk-P6PSCONH.js";import{D as v,Ib as d,Jb as m,Kb as p,Tb as O,Xa as C,Ya as a,bb as g,jb as M,la as b,mb as k,pb as L,ra as S,tb as c,ub as r,vb as i}from"./chunk-ERNPZIPW.js";function V(o,q){o&1&&i(0,"app-sidebar-filters")}var ce=(()=>{class o{constructor(l,e,t){this.layoutService=l,this.renderer=e,this.router=t,this.store=b(N),this.menuOutsideClickListener=null;let n=this.store.select(Q);this.colorScheme=h(n,{initialValue:u.LIGHT}),this.overlayMenuOpenSubscription=this.layoutService.overlayOpen$.subscribe(()=>{this.menuOutsideClickListener||(this.menuOutsideClickListener=this.renderer.listen("document","click",s=>{!(this.sidebar.el.nativeElement.isSameNode(s.target)||this.sidebar.el.nativeElement.contains(s.target)||this.header.menuButton.nativeElement.isSameNode(s.target)||this.header.menuButton.nativeElement.contains(s.target))&&this.hideMenu()})),this.layoutService.state.staticMenuMobileActive&&this.blockBodyScroll()}),this.router.events.pipe(v(s=>s instanceof E)).subscribe(()=>{this.hideMenu()});let H=this.store.select(I);this.showSidebarFiltersBtn=h(H,{initialValue:!1})}hideMenu(){this.layoutService.state.overlayMenuActive=!1,this.layoutService.state.staticMenuMobileActive=!1,this.layoutService.state.menuHoverActive=!1,this.menuOutsideClickListener&&(this.menuOutsideClickListener(),this.menuOutsideClickListener=null),this.unblockBodyScroll()}blockBodyScroll(){document.body.classList?document.body.classList.add("blocked-scroll"):document.body.className+=" blocked-scroll"}unblockBodyScroll(){document.body.classList?document.body.classList.remove("blocked-scroll"):document.body.className=document.body.className.replace(new RegExp(`(^|\\b)${"blocked-scroll".split(" ").join("|")}(\\b|$)`,"gi")," ")}get containerClass(){return{"layout-theme-light":this.colorScheme()===u.LIGHT,"layout-theme-dark":this.colorScheme()===u.DARK,"layout-overlay":this.layoutService.config().menuMode==="overlay","layout-static":this.layoutService.config().menuMode==="static","layout-static-inactive":this.layoutService.state.staticMenuDesktopInactive&&this.layoutService.config().menuMode==="static","layout-overlay-active":this.layoutService.state.overlayMenuActive,"layout-mobile-active":this.layoutService.state.staticMenuMobileActive,"p-input-filled":this.layoutService.config().inputStyle==="filled","p-ripple-disabled":!this.layoutService.config().ripple}}ngOnDestroy(){this.overlayMenuOpenSubscription&&this.overlayMenuOpenSubscription.unsubscribe(),this.menuOutsideClickListener&&this.menuOutsideClickListener()}static{this.\u0275fac=function(e){return new(e||o)(a(T),a(g),a(R))}}static{this.\u0275cmp=S({type:o,selectors:[["app-layout"]],viewQuery:function(e,t){if(e&1&&(d(f,5),d(y,5)),e&2){let n;m(n=p())&&(t.sidebar=n.first),m(n=p())&&(t.header=n.first)}},standalone:!0,features:[O],decls:10,vars:2,consts:[[1,"layout-wrapper","layout",3,"ngClass"],[1,"layout-sidebar"],[1,"layout-main-container"],[1,"layout-main"]],template:function(e,t){e&1&&(c(0,"div",0),i(1,"app-header"),c(2,"div",1),i(3,"app-sidebar"),r(),c(4,"div",2)(5,"div",3),i(6,"router-outlet"),r(),i(7,"app-footer"),r(),M(8,V,1,0,"app-sidebar-filters"),i(9,"app-toolbar-bottom"),r()),e&2&&(k("ngClass",t.containerClass),C(8),L(t.showSidebarFiltersBtn()?8:-1))},dependencies:[y,x,f,B,w,A,F,j,_,$,D],styles:["@media (max-width: 991px){.layout-main-container[_ngcontent-%COMP%]{padding-right:10px;padding-left:10px}}"]})}}return o})();export{ce as a};

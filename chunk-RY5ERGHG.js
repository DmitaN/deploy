import{c as j,d as H,e as J}from"./chunk-EADROXXP.js";import"./chunk-YLWHQPRE.js";import{c as W,d as G,e as Q}from"./chunk-5K56UJVZ.js";import"./chunk-PHZQ5EZC.js";import{A as q,F as z,G as D,N as L,j as R,z as N}from"./chunk-B7CP2PLG.js";import{J as U,K as Y,g as S,l as E,o as F,q as s}from"./chunk-COW65BMJ.js";import"./chunk-4YRY4IP2.js";import{q as k,r as B}from"./chunk-PRE7VHBU.js";import{Bb as M,Ca as m,Da as c,Db as f,Eb as u,Ob as T,Qb as P,Rb as A,Sb as O,Tb as I,Va as y,Vb as V,Za as r,_a as v,aa as C,ac as h,bc as _,la as g,lb as w,ob as p,ra as b,rb as x,vb as n,wb as a,xb as d}from"./chunk-JT3XW4XA.js";function X(o,K){if(o&1){let e=M();n(0,"div",2),d(1,"img",3),n(2,"p",4),T(3),h(4,"translate"),a(),n(5,"div")(6,"p-inputNumber",5),I("ngModelChange",function(i){m(e);let l=u();return O(l.quantity,i)||(l.quantity=i),c(i)}),a()(),n(7,"div",6)(8,"p-button",7),f("onClick",function(){m(e);let i=u();return c(i.handleToggleFavorite())}),a(),n(9,"p-button",8),f("onClick",function(){m(e);let i=u();return c(i.handleAddToCart())}),a()()()}if(o&2){let e=u();r(),p("src",K.imageUrl,y),r(2),P(" ",_(4,9,e.label)," "),r(3),A("ngModel",e.quantity),p("showButtons",!0)("step",1)("min",1)("max",100),r(2),p("icon",e.isFavorite)("text",!0)}}var bt=(()=>{class o{get isFavorite(){return this.product?.isFavorite?"pi pi-bookmark-fill ":"pi pi-bookmark"}constructor(e){this.route=e,this.items=[{label:"\u041A\u0430\u0442\u0430\u043B\u043E\u0433",route:[s.EMPTY_ROOT]}],this.store=g(R),this.label="\u043E\u043F\u0438\u0441\u0430\u043D\u0438\u0435",this.quantity=1}ngOnInit(){let e=this.route.snapshot.params[F.UID];e&&(this.product$=this.store.select(L(e)).pipe(C(t=>{t&&(this.product=t,this.items.push({label:t.label,route:[s.EMPTY_ROOT,s.CATALOG,t.category]}),this.items.push({label:t.name,route:[s.EMPTY_ROOT,s.CATALOG,t.category,t.uid]}))})))}ngOnDestroy(){this.quantity=1}handleAddToCart(){this.product&&this.store.dispatch(N.addItemToCart({ITEM:this.product,QUANTITY:this.quantity}))}handleToggleFavorite(){this.product&&this.store.dispatch(q.toggleIsFavorite({item:this.product}))}static{this.\u0275fac=function(t){return new(t||o)(v(S))}}static{this.\u0275cmp=b({type:o,selectors:[["app-product-view"]],standalone:!0,features:[V],decls:4,vars:4,consts:[[3,"items"],[1,"flex","fadein","justify-content-center","col-12"],[1,"product__card","card"],["alt","product_image","width","100%",1,"mb-8",3,"src"],[1,"mb-4"],["buttonLayout","horizontal","inputId","horizontal","spinnerMode","horizontal","decrementButtonClass","p-button-danger","incrementButtonClass","p-button-success","incrementButtonIcon","pi pi-plus","decrementButtonIcon","pi pi-minus","styleClass","w-full",1,"mb-4","w-full",3,"ngModelChange","ngModel","showButtons","step","min","max"],[1,"flex","flex-column","gap-2"],[3,"onClick","icon","text"],["label","\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0432 \u043A\u043E\u0440\u0437\u0438\u043D\u0443","styleClass","w-full",3,"onClick"]],template:function(t,i){if(t&1&&(d(0,"app-breadcrumb",0),n(1,"div",1),w(2,X,10,11,"div",2),h(3,"async"),a()),t&2){let l;p("items",i.items),r(2),x((l=_(3,2,i.product$))?2:-1,l)}},dependencies:[D,z,Y,U,J,H,Q,W,G,B,k,E,j],styles:['[_nghost-%COMP%]     .p-breadcrumb{border:none;padding:0;color:var(--breadcrumb-color);font-family:"Microsoft Sans Serif";font-size:12px;font-style:normal;font-weight:400;line-height:normal}[_nghost-%COMP%]     .p-breadcrumb svg{width:6px;height:6px}.product-view__label[_ngcontent-%COMP%]{font-size:12px}.product-view__active-route-link[_ngcontent-%COMP%]{color:var(--toolbar-bottom-active-color)}']})}}return o})();export{bt as ProductViewComponent};

import{a as Y,b as G}from"./chunk-TSBJWHDA.js";import"./chunk-Q327XT2Y.js";import"./chunk-5DY23JTE.js";import{d as L,e as R,f as U}from"./chunk-OIQ6JNSE.js";import{D as q,E as D,G as W,H as O,R as Q,j as E}from"./chunk-KGF5TQCZ.js";import"./chunk-NJC4F6AZ.js";import{g as P}from"./chunk-C2WEBDJN.js";import{c as N,u as j,v as z}from"./chunk-QAZ4GNVJ.js";import{q as F,r as S}from"./chunk-2XHDTA27.js";import"./chunk-EETEBSGF.js";import{$b as h,Bb as d,Ca as l,Cb as p,Da as m,Mb as T,Ob as I,Pb as k,Qb as B,Rb as V,Tb as A,Xa as s,Ya as x,_b as f,aa as _,jb as w,la as g,mb as c,pb as v,ra as y,tb as n,ub as a,vb as b,zb as M}from"./chunk-GPTLXEAQ.js";function H(r,i){if(r&1){let o=M();n(0,"div",1),b(1,"img",2),n(2,"p",3),T(3),f(4,"translate"),a(),n(5,"div")(6,"p-inputNumber",4),V("ngModelChange",function(t){l(o);let u=p();return B(u.quantity,t)||(u.quantity=t),m(t)}),a()(),n(7,"div",5)(8,"p-button",6),d("onClick",function(){l(o);let t=p();return m(t.handleToggleFavorite())}),a(),n(9,"p-button",7),d("onClick",function(){l(o);let t=p();return m(t.handleAddToCart())}),a()()()}if(r&2){let o=p();s(3),I(" ",h(4,8,o.label)," "),s(3),k("ngModel",o.quantity),c("showButtons",!0)("step",1)("min",1)("max",100),s(2),c("icon",o.isFavorite)("text",!0)}}var ct=(()=>{let i=class i{get isFavorite(){return this.product?.isFavorite?"pi pi-bookmark-fill ":"pi pi-bookmark"}constructor(e){this.route=e,this.store=g(E),this.label="\u043E\u043F\u0438\u0441\u0430\u043D\u0438\u0435",this.quantity=1}ngOnInit(){let e=this.route.snapshot.params[N.UID];e&&(this.product$=this.store.select(Q(e)).pipe(_(t=>{t&&(this.product=t)})))}ngOnDestroy(){this.quantity=1}handleAddToCart(){this.product&&this.store.dispatch(W.addItemToCart({ITEM:this.product,QUANTITY:this.quantity}))}handleToggleFavorite(){this.product&&this.store.dispatch(O.toggleIsFavorite({item:this.product}))}};i.\u0275fac=function(t){return new(t||i)(x(P))},i.\u0275cmp=y({type:i,selectors:[["app-product-view"]],standalone:!0,features:[A],decls:3,vars:3,consts:[[1,"flex","justify-content-center","col-12"],[1,"product__card","card"],["src","/layout/images/themes/arya-green.png","alt","product_image","width","100%",1,"mb-8"],[1,"mb-4"],["buttonLayout","horizontal","inputId","horizontal","spinnerMode","horizontal","decrementButtonClass","p-button-danger","incrementButtonClass","p-button-success","incrementButtonIcon","pi pi-plus","decrementButtonIcon","pi pi-minus","styleClass","w-full",1,"mb-4","w-full",3,"ngModelChange","ngModel","showButtons","step","min","max"],[1,"flex","flex-column","gap-2"],[3,"onClick","icon","text"],["label","\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0432 \u043A\u043E\u0440\u0437\u0438\u043D\u0443","styleClass","w-full",3,"onClick"]],template:function(t,u){if(t&1&&(n(0,"div",0),w(1,H,10,10,"div",1),f(2,"async"),a()),t&2){let C;s(),v((C=h(2,1,u.product$))?1:-1,C)}},dependencies:[D,q,z,j,G,Y,U,L,R,S,F]});let r=i;return r})();export{ct as ProductViewComponent};

import{p as ae,q as _t,u as Nt,z as Pt}from"./chunk-LAQJW4FS.js";import{l as wt,n as Dt,o as jt,r as Mt}from"./chunk-2XHDTA27.js";import{A as te,Aa as Et,B as it,C as be,Cb as It,D as ne,E as st,F as Ce,Fa as G,I as D,Ia as Oe,J as ot,Ka as j,L as at,La as vt,M as ct,Ma as yt,Mb as Ot,N as ut,Nb as xt,Q as Ae,T as lt,U as ft,V as dt,X as Re,Xa as St,Ya as se,_ as Te,a as m,b as O,ba as pt,ca as Ie,eb as xe,fa as p,g as N,ga as P,gb as bt,ia as u,j as X,jb as Ct,k as ee,ka as c,la as g,m as nt,ma as ht,mb as Fe,mc as Le,nc as Ft,o as rt,ob as At,pa as re,q as R,ra as gt,s as x,sa as U,sc as Lt,tb as Rt,ua as mt,ub as Tt,uc as oe,v as C,va as ie,x as ye,z as Se}from"./chunk-GPTLXEAQ.js";function we(e,r){let n=!r?.manualCleanup;n&&!r?.injector&&Et(we);let t=n?r?.injector?.get(Oe)??g(Oe):null,i=An(r?.equal),s;r?.requireSync?s=xe({kind:0},{equal:i}):s=xe({kind:1,value:r?.initialValue},{equal:i});let o=e.subscribe({next:a=>s.set({kind:1,value:a}),error:a=>{if(r?.rejectErrors)throw a;s.set({kind:2,error:a})}});if(r?.requireSync&&s().kind===0)throw new Ie(601,!1);return t?.onDestroy(o.unsubscribe.bind(o)),oe(()=>{let a=s();switch(a.kind){case 1:return a.value;case 2:throw a.error;case 0:throw new Ie(601,!1)}},{equal:r?.equal})}function An(e=Object.is){return(r,n)=>r.kind===1&&n.kind===1&&e(r.value,n.value)}var Me={};function Ge(e,r){if(Me[e]=(Me[e]||0)+1,typeof r=="function")return De(e,(...t)=>O(m({},r(...t)),{type:e}));switch(r?r._as:"empty"){case"empty":return De(e,()=>({type:e}));case"props":return De(e,t=>O(m({},t),{type:e}));default:throw new Error("Unexpected config.")}}function v(){return{_as:"props",_p:void 0}}function De(e,r){return Object.defineProperty(r,"type",{value:e,writable:!1})}function Rn(e){return e.charAt(0).toUpperCase()+e.substring(1)}function Tn(e){return e.charAt(0).toLowerCase()+e.substring(1)}function A(e){let{source:r,events:n}=e;return Object.keys(n).reduce((t,i)=>O(m({},t),{[In(i)]:Ge(On(r,i),n[i])}),{})}function S(){return v()}function In(e){return e.trim().split(" ").map((r,n)=>n===0?Tn(r):Rn(r)).join("")}function On(e,r){return`[${e}] ${r}`}var Wt="@ngrx/store/init",k=(()=>{let r=class r extends ee{constructor(){super({type:Wt})}next(t){if(typeof t=="function")throw new TypeError(`
        Dispatch expected an object, instead it received a function.
        If you're using the createAction function, make sure to invoke the function
        before dispatching the action. For example, someAction should be someAction().`);if(typeof t>"u")throw new TypeError("Actions must be objects");if(typeof t.type>"u")throw new TypeError("Actions must have a type property");super.next(t)}complete(){}ngOnDestroy(){super.complete()}};r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=p({token:r,factory:r.\u0275fac});let e=r;return e})(),xn=[k],Zt=new u("@ngrx/store Internal Root Guard"),Ut=new u("@ngrx/store Internal Initial State"),ke=new u("@ngrx/store Initial State"),Jt=new u("@ngrx/store Reducer Factory"),Gt=new u("@ngrx/store Internal Reducer Factory Provider"),Xt=new u("@ngrx/store Initial Reducers"),je=new u("@ngrx/store Internal Initial Reducers"),oi=new u("@ngrx/store Store Features"),kt=new u("@ngrx/store Internal Store Reducers"),ai=new u("@ngrx/store Internal Feature Reducers"),ci=new u("@ngrx/store Internal Feature Configs"),ui=new u("@ngrx/store Internal Store Features"),li=new u("@ngrx/store Internal Feature Reducers Token"),fi=new u("@ngrx/store Feature Reducers"),zt=new u("@ngrx/store User Provided Meta Reducers"),ce=new u("@ngrx/store Meta Reducers"),Vt=new u("@ngrx/store Internal Resolved Meta Reducers"),Bt=new u("@ngrx/store User Runtime Checks Config"),$t=new u("@ngrx/store Internal User Runtime Checks Config"),q=new u("@ngrx/store Internal Runtime Checks"),en=new u("@ngrx/store Check if Action types are unique"),ue=new u("@ngrx/store Root Store Provider"),tn=new u("@ngrx/store Feature State Provider");function Fn(e,r={}){let n=Object.keys(e),t={};for(let s=0;s<n.length;s++){let o=n[s];typeof e[o]=="function"&&(t[o]=e[o])}let i=Object.keys(t);return function(o,a){o=o===void 0?r:o;let f=!1,h={};for(let l=0;l<i.length;l++){let E=i[l],_=t[E],J=o[E],tt=_(J,a);h[E]=tt,f=f||tt!==J}return f?h:o}}function Ln(e,r){return Object.keys(e).filter(n=>n!==r).reduce((n,t)=>Object.assign(n,{[t]:e[t]}),{})}function nn(...e){return function(r){if(e.length===0)return r;let n=e[e.length-1];return e.slice(0,-1).reduceRight((i,s)=>s(i),n(r))}}function rn(e,r){return Array.isArray(r)&&r.length>0&&(e=nn.apply(null,[...r,e])),(n,t)=>{let i=e(n);return(s,o)=>(s=s===void 0?t:s,i(s,o))}}function wn(e){let r=Array.isArray(e)&&e.length>0?nn(...e):n=>n;return(n,t)=>(n=r(n),(i,s)=>(i=i===void 0?t:i,n(i,s)))}var Q=class extends N{},le=class extends k{},Dn="@ngrx/store/update-reducers",_e=(()=>{let r=class r extends ee{get currentReducers(){return this.reducers}constructor(t,i,s,o){super(o(s,i)),this.dispatcher=t,this.initialState=i,this.reducers=s,this.reducerFactory=o}addFeature(t){this.addFeatures([t])}addFeatures(t){let i=t.reduce((s,{reducers:o,reducerFactory:a,metaReducers:f,initialState:h,key:l})=>{let E=typeof o=="function"?wn(f)(o,h):rn(a,f)(o,h);return s[l]=E,s},{});this.addReducers(i)}removeFeature(t){this.removeFeatures([t])}removeFeatures(t){this.removeReducers(t.map(i=>i.key))}addReducer(t,i){this.addReducers({[t]:i})}addReducers(t){this.reducers=m(m({},this.reducers),t),this.updateReducers(Object.keys(t))}removeReducer(t){this.removeReducers([t])}removeReducers(t){t.forEach(i=>{this.reducers=Ln(this.reducers,i)}),this.updateReducers(t)}updateReducers(t){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:Dn,features:t})}ngOnDestroy(){this.complete()}};r.\u0275fac=function(i){return new(i||r)(c(le),c(ke),c(Xt),c(Jt))},r.\u0275prov=p({token:r,factory:r.\u0275fac});let e=r;return e})(),jn=[_e,{provide:Q,useExisting:_e},{provide:le,useExisting:k}],Y=(()=>{let r=class r extends X{ngOnDestroy(){this.complete()}};r.\u0275fac=(()=>{let t;return function(s){return(t||(t=G(r)))(s||r)}})(),r.\u0275prov=p({token:r,factory:r.\u0275fac});let e=r;return e})(),Mn=[Y],fe=class extends N{},Ht=(()=>{let r=class r extends ee{constructor(t,i,s,o){super(o);let f=t.pipe(rt(nt)).pipe(pt(i)),h={state:o},l=f.pipe(dt(_n,h));this.stateSubscription=l.subscribe(({state:E,action:_})=>{this.next(E),s.next(_)}),this.state=we(this,{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}};r.INIT=Wt,r.\u0275fac=function(i){return new(i||r)(c(k),c(Q),c(Y),c(ke))},r.\u0275prov=p({token:r,factory:r.\u0275fac});let e=r;return e})();function _n(e={state:void 0},[r,n]){let{state:t}=e;return{state:n(t,r),action:r}}var Nn=[Ht,{provide:fe,useExisting:Ht}],T=(()=>{let r=class r extends N{constructor(t,i,s){super(),this.actionsObserver=i,this.reducerManager=s,this.source=t,this.state=t.state}select(t,...i){return Un.call(null,t,...i)(this)}selectSignal(t,i){return oe(()=>t(this.state()),i)}lift(t){let i=new r(this,this.actionsObserver,this.reducerManager);return i.operator=t,i}dispatch(t){this.actionsObserver.next(t)}next(t){this.actionsObserver.next(t)}error(t){this.actionsObserver.error(t)}complete(){this.actionsObserver.complete()}addReducer(t,i){this.reducerManager.addReducer(t,i)}removeReducer(t){this.reducerManager.removeReducer(t)}};r.\u0275fac=function(i){return new(i||r)(c(fe),c(k),c(_e))},r.\u0275prov=p({token:r,factory:r.\u0275fac});let e=r;return e})(),Pn=[T];function Un(e,r,...n){return function(i){let s;if(typeof e=="string"){let o=[r,...n].filter(Boolean);s=i.pipe(ft(e,...o))}else if(typeof e=="function")s=i.pipe(C(o=>e(o,r)));else throw new TypeError(`Unexpected type '${typeof e}' in select operator, expected 'string' or 'function'`);return s.pipe(ct())}}var ze="https://ngrx.io/guide/store/configuration/runtime-checks";function Kt(e){return e===void 0}function qt(e){return e===null}function sn(e){return Array.isArray(e)}function Gn(e){return typeof e=="string"}function kn(e){return typeof e=="boolean"}function zn(e){return typeof e=="number"}function on(e){return typeof e=="object"&&e!==null}function Vn(e){return on(e)&&!sn(e)}function Bn(e){if(!Vn(e))return!1;let r=Object.getPrototypeOf(e);return r===Object.prototype||r===null}function Ne(e){return typeof e=="function"}function $n(e){return Ne(e)&&e.hasOwnProperty("\u0275cmp")}function Hn(e,r){return Object.prototype.hasOwnProperty.call(e,r)}var Kn=!1;function qn(){return Kn}function Qt(e,r){return e===r}function Qn(e,r,n){for(let t=0;t<e.length;t++)if(!n(e[t],r[t]))return!0;return!1}function an(e,r=Qt,n=Qt){let t=null,i=null,s;function o(){t=null,i=null}function a(l=void 0){s={result:l}}function f(){s=void 0}function h(){if(s!==void 0)return s.result;if(!t)return i=e.apply(null,arguments),t=arguments,i;if(!Qn(arguments,t,r))return i;let l=e.apply(null,arguments);return t=arguments,n(i,l)?i:(i=l,l)}return{memoized:h,reset:o,setResult:a,clearResult:f}}function d(...e){return Wn(an)(...e)}function Yn(e,r,n,t){if(n===void 0){let s=r.map(o=>o(e));return t.memoized.apply(null,s)}let i=r.map(s=>s(e,n));return t.memoized.apply(null,[...i,n])}function Wn(e,r={stateFn:Yn}){return function(...n){let t=n;if(Array.isArray(t[0])){let[l,...E]=t;t=[...l,...E]}else t.length===1&&Zn(t[0])&&(t=Jn(t[0]));let i=t.slice(0,t.length-1),s=t[t.length-1],o=i.filter(l=>l.release&&typeof l.release=="function"),a=e(function(...l){return s.apply(null,l)}),f=an(function(l,E){return r.stateFn.apply(null,[l,i,E,a])});function h(){f.reset(),a.reset(),o.forEach(l=>l.release())}return Object.assign(f.memoized,{release:h,projector:a.memoized,setResult:f.setResult,clearResult:f.clearResult})}}function b(e){return d(r=>{let n=r[e];return!qn()&&Le()&&!(e in r)&&console.warn(`@ngrx/store: The feature name "${e}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${e}', ...) or StoreModule.forFeature('${e}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),n},r=>r)}function Zn(e){return!!e&&typeof e=="object"&&Object.values(e).every(r=>typeof r=="function")}function Jn(e){let r=Object.values(e),n=Object.keys(e),t=(...i)=>n.reduce((s,o,a)=>O(m({},s),{[o]:i[a]}),{});return[...r,t]}function Xn(e){return e instanceof u?g(e):e}function er(e){return typeof e=="function"?e():e}function tr(e,r){return e.concat(r)}function nr(){if(g(T,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function rr(e,r){return function(n,t){let i=r.action(t)?Pe(t):t,s=e(n,i);return r.state()?Pe(s):s}}function Pe(e){Object.freeze(e);let r=Ne(e);return Object.getOwnPropertyNames(e).forEach(n=>{if(!n.startsWith("\u0275")&&Hn(e,n)&&(!r||n!=="caller"&&n!=="callee"&&n!=="arguments")){let t=e[n];(on(t)||Ne(t))&&!Object.isFrozen(t)&&Pe(t)}}),e}function ir(e,r){return function(n,t){if(r.action(t)){let s=Ue(t);Yt(s,"action")}let i=e(n,t);if(r.state()){let s=Ue(i);Yt(s,"state")}return i}}function Ue(e,r=[]){return(Kt(e)||qt(e))&&r.length===0?{path:["root"],value:e}:Object.keys(e).reduce((t,i)=>{if(t)return t;let s=e[i];return $n(s)?t:Kt(s)||qt(s)||zn(s)||kn(s)||Gn(s)||sn(s)?!1:Bn(s)?Ue(s,[...r,i]):{path:[...r,i],value:s}},!1)}function Yt(e,r){if(e===!1)return;let n=e.path.join("."),t=new Error(`Detected unserializable ${r} at "${n}". ${ze}#strict${r}serializability`);throw t.value=e.value,t.unserializablePath=n,t}function sr(e,r){return function(n,t){if(r.action(t)&&!vt.isInAngularZone())throw new Error(`Action '${t.type}' running outside NgZone. ${ze}#strictactionwithinngzone`);return e(n,t)}}function or(e){return Le()?m({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},e):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function ar({strictActionSerializability:e,strictStateSerializability:r}){return n=>e||r?ir(n,{action:t=>e&&!Ve(t),state:()=>r}):n}function cr({strictActionImmutability:e,strictStateImmutability:r}){return n=>e||r?rr(n,{action:t=>e&&!Ve(t),state:()=>r}):n}function Ve(e){return e.type.startsWith("@ngrx")}function ur({strictActionWithinNgZone:e}){return r=>e?sr(r,{action:n=>e&&!Ve(n)}):r}function lr(e){return[{provide:$t,useValue:e},{provide:Bt,useFactory:dr,deps:[$t]},{provide:q,deps:[Bt],useFactory:or},{provide:ce,multi:!0,deps:[q],useFactory:cr},{provide:ce,multi:!0,deps:[q],useFactory:ar},{provide:ce,multi:!0,deps:[q],useFactory:ur}]}function fr(){return[{provide:en,multi:!0,deps:[q],useFactory:pr}]}function dr(e){return e}function pr(e){if(!e.strictActionTypeUniqueness)return;let r=Object.entries(Me).filter(([,n])=>n>1).map(([n])=>n);if(r.length)throw new Error(`Action types are registered more than once, ${r.map(n=>`"${n}"`).join(", ")}. ${ze}#strictactiontypeuniqueness`)}function hr(e={},r={}){return[{provide:Zt,useFactory:nr},{provide:Ut,useValue:r.initialState},{provide:ke,useFactory:er,deps:[Ut]},{provide:je,useValue:e},{provide:kt,useExisting:e instanceof u?e:je},{provide:Xt,deps:[je,[new ht(kt)]],useFactory:Xn},{provide:zt,useValue:r.metaReducers?r.metaReducers:[]},{provide:Vt,deps:[ce,zt],useFactory:tr},{provide:Gt,useValue:r.reducerFactory?r.reducerFactory:Fn},{provide:Jt,deps:[Gt,Vt],useFactory:rn},xn,jn,Mn,Nn,Pn,lr(r.runtimeChecks),fr()]}function gr(){g(k),g(Q),g(Y),g(T),g(Zt,{optional:!0}),g(en,{optional:!0})}var mr=[{provide:ue,useFactory:gr},{provide:re,multi:!0,useFactory(){return()=>g(ue)}}];function di(e,r){return ie([...hr(e,r),mr])}function pi(...e){let r=e.pop(),n=e.map(t=>t.type);return{reducer:r,types:n}}function hi(e,...r){let n=new Map;for(let t of r)for(let i of t.types){let s=n.get(i);if(s){let o=(a,f)=>t.reducer(s(a,f),f);n.set(i,o)}else n.set(i,t.reducer)}return function(t=e,i){let s=n.get(i.type);return s?s(t,i):t}}var y=function(e){return e.SETTINGS="SETTINGS",e.APP_CONFIG_GENERAL="APP_CONFIG_GENERAL",e.APP_CONFIG_LANGUAGE="APP_CONFIG_LANGUAGE",e.APP_CONFIG_USER_MENU="APP_CONFIG_USER_MENU",e.APP_CONFIG_THEME="APP_CONFIG_THEME",e.APP_CATALOG="APP_CATALOG",e.APP_CART="APP_CART",e.APP_ORDERS="APP_ORDERS",e.APP_CATEGORIES="APP_CATEGORIES",e}(y||{}),F=function(e){return e.SIDEBAR_MENU="SIDEBAR_MENU",e.USER_MENU="USER_MENU",e.USER_MENU_OPEN="USER_MENU_OPEN",e.TOOLBAR_BOTTOM_MENU="TOOLBAR_BOTTOM_MENU",e.SIDEBAR_FILTERS_OPEN="SIDEBAR_FILTERS_OPEN",e.SIDEBAR_FILTERS_SHOW_BTN="SIDEBAR_FILTERS_SHOW_BTN",e}(F||{}),W=function(e){return e.LANGUAGE_MENU="LANGUAGE_MENU",e.LANGUAGE_MENU_OPEN="LANGUAGE_MENU_OPEN",e.DEFAULT_LANGUAGE="DEFAULT_LANGUAGE",e}(W||{}),de=function(e){return e.COLOR_SCHEME="COLOR_SCHEME",e.THEME="THEME",e}(de||{}),L=function(e){return e.CATALOG="CATALOG",e}(L||{}),pe=function(e){return e.CART="CART",e.ITEM="ITEM",e.QUANTITY="QUANTITY",e.TOTAL_QUANTITY="TOTAL_QUANTITY",e}(pe||{}),Be=function(e){return e.ORDERS="ORDERS",e}(Be||{}),$e=function(e){return e.CATEGORIES="CATEGORIES",e}($e||{});var un=A({source:"APP CART",events:{"Add Item To Cart":v(),"Remove Item From Cart":v(),"Clear Cart":S(),"Quantity Item Change":v()}});var Hi=A({source:"APP CATALOG",events:{"Toggle Is Favorite":v()}});var Qi=A({source:"APP CONFIG",events:{"Init Default Application Config":S(),"Open User Profile Menu":S(),"Close User Profile Menu":S(),"Open Sidebar Filters":S(),"Close Sidebar Filters":S(),"Set Sidebar Filters Show Button":S(),"Set Sidebar Filters Hide Button":S(),"Update Quantity Cart":v()}});var ln=A({source:"APP ORDERS",events:{"Create Order":v()}});var z=class{},fn=(()=>{class e extends z{getTranslation(n){return R({})}static \u0275fac=(()=>{let n;return function(i){return(n||(n=G(e)))(i||e)}})();static \u0275prov=p({token:e,factory:e.\u0275fac})}return e})(),Z=class{},dn=(()=>{class e{handle(n){return n.key}static \u0275fac=function(t){return new(t||e)};static \u0275prov=p({token:e,factory:e.\u0275fac})}return e})();function he(e,r){if(e===r)return!0;if(e===null||r===null)return!1;if(e!==e&&r!==r)return!0;let n=typeof e,t=typeof r,i,s,o;if(n==t&&n=="object")if(Array.isArray(e)){if(!Array.isArray(r))return!1;if((i=e.length)==r.length){for(s=0;s<i;s++)if(!he(e[s],r[s]))return!1;return!0}}else{if(Array.isArray(r))return!1;o=Object.create(null);for(s in e){if(!he(e[s],r[s]))return!1;o[s]=!0}for(s in r)if(!(s in o)&&typeof r[s]<"u")return!1;return!0}return!1}function w(e){return typeof e<"u"&&e!==null}function He(e){return e&&typeof e=="object"&&!Array.isArray(e)}function gn(e,r){let n=Object.assign({},e);return He(e)&&He(r)&&Object.keys(r).forEach(t=>{He(r[t])?t in e?n[t]=gn(e[t],r[t]):Object.assign(n,{[t]:r[t]}):Object.assign(n,{[t]:r[t]})}),n}var V=class{},pn=(()=>{class e extends V{templateMatcher=/{{\s?([^{}\s]*)\s?}}/g;interpolate(n,t){let i;return typeof n=="string"?i=this.interpolateString(n,t):typeof n=="function"?i=this.interpolateFunction(n,t):i=n,i}getValue(n,t){let i=typeof t=="string"?t.split("."):[t];t="";do t+=i.shift(),w(n)&&w(n[t])&&(typeof n[t]=="object"||!i.length)?(n=n[t],t=""):i.length?t+=".":n=void 0;while(i.length);return n}interpolateFunction(n,t){return n(t)}interpolateString(n,t){return t?n.replace(this.templateMatcher,(i,s)=>{let o=this.getValue(t,s);return w(o)?o:i}):n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=G(e)))(i||e)}})();static \u0275prov=p({token:e,factory:e.\u0275fac})}return e})(),B=class{},hn=(()=>{class e extends B{compile(n,t){return n}compileTranslations(n,t){return n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=G(e)))(i||e)}})();static \u0275prov=p({token:e,factory:e.\u0275fac})}return e})(),ge=class{defaultLang;currentLang=this.defaultLang;translations={};langs=[];onTranslationChange=new j;onLangChange=new j;onDefaultLangChange=new j},Ke=new u("USE_STORE"),qe=new u("USE_DEFAULT_LANG"),Qe=new u("DEFAULT_LANGUAGE"),Ye=new u("USE_EXTEND"),I=(()=>{class e{store;currentLoader;compiler;parser;missingTranslationHandler;useDefaultLang;isolate;extend;loadingTranslations;pending=!1;_onTranslationChange=new j;_onLangChange=new j;_onDefaultLangChange=new j;_defaultLang;_currentLang;_langs=[];_translations={};_translationRequests={};get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(n){this.isolate?this._defaultLang=n:this.store.defaultLang=n}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(n){this.isolate?this._currentLang=n:this.store.currentLang=n}get langs(){return this.isolate?this._langs:this.store.langs}set langs(n){this.isolate?this._langs=n:this.store.langs=n}get translations(){return this.isolate?this._translations:this.store.translations}set translations(n){this.isolate?this._translations=n:this.store.translations=n}constructor(n,t,i,s,o,a=!0,f=!1,h=!1,l){this.store=n,this.currentLoader=t,this.compiler=i,this.parser=s,this.missingTranslationHandler=o,this.useDefaultLang=a,this.isolate=f,this.extend=h,l&&this.setDefaultLang(l)}setDefaultLang(n){if(n===this.defaultLang)return;let t=this.retrieveTranslations(n);typeof t<"u"?(this.defaultLang==null&&(this.defaultLang=n),t.pipe(D(1)).subscribe(i=>{this.changeDefaultLang(n)})):this.changeDefaultLang(n)}getDefaultLang(){return this.defaultLang}use(n){if(n===this.currentLang)return R(this.translations[n]);let t=this.retrieveTranslations(n);return typeof t<"u"?(this.currentLang||(this.currentLang=n),t.pipe(D(1)).subscribe(i=>{this.changeLang(n)}),t):(this.changeLang(n),R(this.translations[n]))}retrieveTranslations(n){let t;return(typeof this.translations[n]>"u"||this.extend)&&(this._translationRequests[n]=this._translationRequests[n]||this.getTranslation(n),t=this._translationRequests[n]),t}getTranslation(n){this.pending=!0;let t=this.currentLoader.getTranslation(n).pipe(Re(1),D(1));return this.loadingTranslations=t.pipe(C(i=>this.compiler.compileTranslations(i,n)),Re(1),D(1)),this.loadingTranslations.subscribe({next:i=>{this.translations[n]=this.extend&&this.translations[n]?m(m({},i),this.translations[n]):i,this.updateLangs(),this.pending=!1},error:i=>{this.pending=!1}}),t}setTranslation(n,t,i=!1){t=this.compiler.compileTranslations(t,n),(i||this.extend)&&this.translations[n]?this.translations[n]=gn(this.translations[n],t):this.translations[n]=t,this.updateLangs(),this.onTranslationChange.emit({lang:n,translations:this.translations[n]})}getLangs(){return this.langs}addLangs(n){n.forEach(t=>{this.langs.indexOf(t)===-1&&this.langs.push(t)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(n,t,i){let s;if(t instanceof Array){let o={},a=!1;for(let f of t)o[f]=this.getParsedResult(n,f,i),x(o[f])&&(a=!0);if(a){let f=t.map(h=>x(o[h])?o[h]:R(o[h]));return it(f).pipe(C(h=>{let l={};return h.forEach((E,_)=>{l[t[_]]=E}),l}))}return o}if(n&&(s=this.parser.interpolate(this.parser.getValue(n,t),i)),typeof s>"u"&&this.defaultLang!=null&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(s=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],t),i)),typeof s>"u"){let o={key:t,translateService:this};typeof i<"u"&&(o.interpolateParams=i),s=this.missingTranslationHandler.handle(o)}return typeof s<"u"?s:t}get(n,t){if(!w(n)||!n.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe(Ce(i=>(i=this.getParsedResult(i,n,t),x(i)?i:R(i))));{let i=this.getParsedResult(this.translations[this.currentLang],n,t);return x(i)?i:R(i)}}getStreamOnTranslationChange(n,t){if(!w(n)||!n.length)throw new Error('Parameter "key" required');return Se(te(()=>this.get(n,t)),this.onTranslationChange.pipe(Te(i=>{let s=this.getParsedResult(i.translations,n,t);return typeof s.subscribe=="function"?s:R(s)})))}stream(n,t){if(!w(n)||!n.length)throw new Error('Parameter "key" required');return Se(te(()=>this.get(n,t)),this.onLangChange.pipe(Te(i=>{let s=this.getParsedResult(i.translations,n,t);return x(s)?s:R(s)})))}instant(n,t){if(!w(n)||!n.length)throw new Error('Parameter "key" required');let i=this.getParsedResult(this.translations[this.currentLang],n,t);if(x(i)){if(n instanceof Array){let s={};return n.forEach((o,a)=>{s[n[a]]=n[a]}),s}return n}else return i}set(n,t,i=this.currentLang){this.translations[i][n]=this.compiler.compile(t,i),this.updateLangs(),this.onTranslationChange.emit({lang:i,translations:this.translations[i]})}changeLang(n){this.currentLang=n,this.onLangChange.emit({lang:n,translations:this.translations[n]}),this.defaultLang==null&&this.changeDefaultLang(n)}changeDefaultLang(n){this.defaultLang=n,this.onDefaultLangChange.emit({lang:n,translations:this.translations[n]})}reloadLang(n){return this.resetLang(n),this.getTranslation(n)}resetLang(n){this._translationRequests[n]=void 0,this.translations[n]=void 0}getBrowserLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let n=window.navigator.languages?window.navigator.languages[0]:null;if(n=n||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,!(typeof n>"u"))return n.indexOf("-")!==-1&&(n=n.split("-")[0]),n.indexOf("_")!==-1&&(n=n.split("_")[0]),n}getBrowserCultureLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let n=window.navigator.languages?window.navigator.languages[0]:null;return n=n||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,n}static \u0275fac=function(t){return new(t||e)(c(ge),c(z),c(B),c(V),c(Z),c(qe),c(Ke),c(Ye),c(Qe))};static \u0275prov=p({token:e,factory:e.\u0275fac})}return e})();var as=(()=>{class e{translate;_ref;value="";lastKey=null;lastParams=[];onTranslationChange;onLangChange;onDefaultLangChange;constructor(n,t){this.translate=n,this._ref=t}updateValue(n,t,i){let s=o=>{this.value=o!==void 0?o:n,this.lastKey=n,this._ref.markForCheck()};if(i){let o=this.translate.getParsedResult(i,n,t);x(o.subscribe)?o.subscribe(s):s(o)}this.translate.get(n,t).subscribe(s)}transform(n,...t){if(!n||!n.length)return n;if(he(n,this.lastKey)&&he(t,this.lastParams))return this.value;let i;if(w(t[0])&&t.length)if(typeof t[0]=="string"&&t[0].length){let s=t[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{i=JSON.parse(s)}catch{throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${t[0]}`)}}else typeof t[0]=="object"&&!Array.isArray(t[0])&&(i=t[0]);return this.lastKey=n,this.lastParams=t,this.updateValue(n,i),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(s=>{this.lastKey&&s.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(n,i,s.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(s=>{this.lastKey&&(this.lastKey=null,this.updateValue(n,i,s.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(n,i))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}static \u0275fac=function(t){return new(t||e)(se(I,16),se(Ft,16))};static \u0275pipe=mt({name:"translate",type:e,pure:!1});static \u0275prov=p({token:e,factory:e.\u0275fac})}return e})(),cs=(()=>{class e{static forRoot(n={}){return{ngModule:e,providers:[n.loader||{provide:z,useClass:fn},n.compiler||{provide:B,useClass:hn},n.parser||{provide:V,useClass:pn},n.missingTranslationHandler||{provide:Z,useClass:dn},ge,{provide:Ke,useValue:n.isolate},{provide:qe,useValue:n.useDefaultLang},{provide:Ye,useValue:n.extend},{provide:Qe,useValue:n.defaultLanguage},I]}}static forChild(n={}){return{ngModule:e,providers:[n.loader||{provide:z,useClass:fn},n.compiler||{provide:B,useClass:hn},n.parser||{provide:V,useClass:pn},n.missingTranslationHandler||{provide:Z,useClass:dn},{provide:Ke,useValue:n.isolate},{provide:qe,useValue:n.useDefaultLang},{provide:Ye,useValue:n.extend},{provide:Qe,useValue:n.defaultLanguage},I]}}static \u0275fac=function(t){return new(t||e)};static \u0275mod=U({type:e});static \u0275inj=P({})}return e})();var mn=b(y.APP_CART),ds=d(mn,e=>e[pe.TOTAL_QUANTITY]),ps=d(mn,e=>e[pe.CART]);var $=b(y.APP_CATALOG),Es=d($,e=>e[L.CATALOG]),vs=e=>d($,r=>r[L.CATALOG].filter(t=>t.category===e)),ys=e=>d($,r=>{let n=r[L.CATALOG].find(t=>t.uid===e);return n||null}),Ss=d($,e=>e[L.CATALOG].filter(n=>n.isFavorite));var yr=b(y.APP_CATEGORIES),Is=d(yr,$,(e,r)=>{let n=e[$e.CATEGORIES],t=r[L.CATALOG];if(!n||!t)return[];let i={};return t.forEach(o=>{let a=o.category;a&&(i[a]=(i[a]??0)+1)}),n.map(o=>O(m({},o),{quantity:i[o.routerLink]??0,routerLink:[_t.CATALOG,o.routerLink].join("/")}))});var H=b(y.APP_CONFIG_GENERAL),ws=d(H,e=>e[F.SIDEBAR_MENU]),Ds=d(H,e=>e[F.USER_MENU]),js=d(H,e=>e[F.USER_MENU_OPEN]),Ms=d(H,e=>e[F.TOOLBAR_BOTTOM_MENU]),_s=d(H,e=>e[F.SIDEBAR_FILTERS_OPEN]),Ns=d(H,e=>e[F.SIDEBAR_FILTERS_SHOW_BTN]);var Sr=b(y.APP_ORDERS),ks=d(Sr,e=>e[Be.ORDERS]);var En=b(y.APP_CONFIG_THEME),$s=d(En,e=>e[de.COLOR_SCHEME]),Hs=d(En,e=>e[de.THEME]);var Ze=A({source:"APP LANGUAGE",events:{"Init Default Application Language":S(),"Update Application Language":v(),"Set New Application Language":v(),"Open Language Menu":S(),"Close Language Menu":S()}});var Ws=A({source:"APP THEME",events:{"Set Color Scheme":v()}});var br={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},me="__@ngrx/effects_create__";function Ee(e,r={}){let n=r.functional?e:e(),t=m(m({},br),r);return Object.defineProperty(n,me,{value:t}),n}function Cr(e){return Object.getOwnPropertyNames(e).filter(t=>e[t]&&e[t].hasOwnProperty(me)?e[t][me].hasOwnProperty("dispatch"):!1).map(t=>{let i=e[t][me];return m({propertyName:t},i)})}function Ar(e){return Cr(e)}function vn(e){return Object.getPrototypeOf(e)}function Rr(e){return!!e.constructor&&e.constructor.name!=="Object"&&e.constructor.name!=="Function"}function yn(e){return typeof e=="function"}function Tr(e){return e.filter(yn)}function Ir(e,r,n){let t=vn(e),s=!!t&&t.constructor.name!=="Object"?t.constructor.name:null,o=Ar(e).map(({propertyName:a,dispatch:f,useEffectsErrorHandler:h})=>{let l=typeof e[a]=="function"?e[a]():e[a],E=h?n(l,r):l;return f===!1?E.pipe(ot()):E.pipe(lt()).pipe(C(J=>({effect:e[a],notification:J,propertyName:a,sourceName:s,sourceInstance:e})))});return be(...o)}var Or=10;function Sn(e,r,n=Or){return e.pipe(st(t=>(r&&r.handleError(t),n<=1?e:Sn(e,r,n-1))))}var K=(()=>{let r=class r extends N{constructor(t){super(),t&&(this.source=t)}lift(t){let i=new r;return i.source=this,i.operator=t,i}};r.\u0275fac=function(i){return new(i||r)(c(Y))},r.\u0275prov=p({token:r,factory:r.\u0275fac,providedIn:"root"});let e=r;return e})();function ve(...e){return ne(r=>e.some(n=>typeof n=="string"?n===r.type:n.type===r.type))}var Eo=new u("@ngrx/effects Internal Root Guard"),vo=new u("@ngrx/effects User Provided Effects"),yo=new u("@ngrx/effects Internal Root Effects"),So=new u("@ngrx/effects Internal Root Effects Instances"),bo=new u("@ngrx/effects Internal Feature Effects"),Co=new u("@ngrx/effects Internal Feature Effects Instance Groups"),xr=new u("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>Sn}),Fr="@ngrx/effects/init",Lr=Ge(Fr);function wr(e,r){if(e.notification.kind==="N"){let n=e.notification.value;!Dr(n)&&r.handleError(new Error(`Effect ${jr(e)} dispatched an invalid action: ${Mr(n)}`))}}function Dr(e){return typeof e!="function"&&e&&e.type&&typeof e.type=="string"}function jr({propertyName:e,sourceInstance:r,sourceName:n}){let t=typeof r[e]=="function";return!!n?`"${n}.${String(e)}${t?"()":""}"`:`"${String(e)}()"`}function Mr(e){try{return JSON.stringify(e)}catch{return e}}var _r="ngrxOnIdentifyEffects";function Nr(e){return Je(e,_r)}var Pr="ngrxOnRunEffects";function Ur(e){return Je(e,Pr)}var Gr="ngrxOnInitEffects";function kr(e){return Je(e,Gr)}function Je(e,r){return e&&r in e&&typeof e[r]=="function"}var bn=(()=>{let r=class r extends X{constructor(t,i){super(),this.errorHandler=t,this.effectsErrorHandler=i}addEffects(t){this.next(t)}toActions(){return this.pipe(Ae(t=>Rr(t)?vn(t):t),ye(t=>t.pipe(Ae(zr))),ye(t=>{let i=t.pipe(ut(o=>Vr(this.errorHandler,this.effectsErrorHandler)(o)),C(o=>(wr(o,this.errorHandler),o.notification)),ne(o=>o.kind==="N"&&o.value!=null),at()),s=t.pipe(D(1),ne(kr),C(o=>o.ngrxOnInitEffects()));return be(i,s)}))}};r.\u0275fac=function(i){return new(i||r)(c(yt),c(xr))},r.\u0275prov=p({token:r,factory:r.\u0275fac,providedIn:"root"});let e=r;return e})();function zr(e){return Nr(e)?e.ngrxOnIdentifyEffects():""}function Vr(e,r){return n=>{let t=Ir(n,e,r);return Ur(n)?n.ngrxOnRunEffects(t):t}}var Br=(()=>{let r=class r{get isStarted(){return!!this.effectsSubscription}constructor(t,i){this.effectSources=t,this.store=i,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}};r.\u0275fac=function(i){return new(i||r)(c(bn),c(T))},r.\u0275prov=p({token:r,factory:r.\u0275fac,providedIn:"root"});let e=r;return e})();function Ao(...e){let r=e.flat(),n=Tr(r);return ie([n,{provide:re,multi:!0,useValue:()=>{g(ue),g(tn,{optional:!0});let t=g(Br),i=g(bn),s=!t.isStarted;s&&t.start();for(let o of r){let a=yn(o)?g(o):o;i.addEffects(a)}s&&g(T).dispatch(Lr())}}])}var To=(()=>{let r=class r{constructor(t){this.actions$=t}};r.\u0275fac=function(i){return new(i||r)(c(K))},r.\u0275prov=p({token:r,factory:r.\u0275fac});let e=r;return e})();var Lo=(()=>{let r=class r{constructor(t,i){this.actions$=t,this.translateService=i,this.updateLanguage$=Ee(()=>this.actions$.pipe(ve(Ze.updateApplicationLanguage),C(s=>{let{language:o}=s;return this.translateService.use(o),Ze.setNewApplicationLanguage({language:o})})))}};r.\u0275fac=function(i){return new(i||r)(c(K),c(I))},r.\u0275prov=p({token:r,factory:r.\u0275fac});let e=r;return e})();var Cn=(()=>{let r=class r{constructor(t,i){this.message=t,this.translateService=i}sendError(t){let i=this.translateService.instant("MESSAGES.TITLE.ERROR"),s=this.translateService.instant(t);this.message.add({severity:"error",summary:i,detail:s,life:ae.TIME_LIFE_MESSAGE})}sendSuccess(t){let i=this.translateService.instant("MESSAGES.TITLE.SUCCESS"),s=this.translateService.instant(t);this.message.add({severity:"success",summary:i,detail:s,life:ae.TIME_LIFE_MESSAGE})}sendWarning(t){let i=this.translateService.instant("MESSAGES.TITLE.WARNING"),s=this.translateService.instant(t);this.message.add({severity:"warn",summary:i,detail:s,life:ae.TIME_LIFE_MESSAGE})}};r.\u0275fac=function(i){return new(i||r)(c(Nt),c(I))},r.\u0275prov=p({token:r,factory:r.\u0275fac,providedIn:"root"});let e=r;return e})();var Po=(()=>{let r=class r{constructor(t,i,s,o){this.actions$=t,this.translateService=i,this.messagesService=s,this.store=o,this.loadCarriages$=Ee(()=>this.actions$.pipe(ve(ln.createOrder),C(()=>(this.messagesService.sendSuccess("\u0417\u0430\u043A\u0430\u0437 \u043E\u0444\u043E\u0440\u043C\u043B\u0435\u043D \u0443\u0441\u043F\u0435\u0448\u043D\u043E"),un.clearCart()))))}};r.\u0275fac=function(i){return new(i||r)(c(K),c(I),c(Cn),c(T))},r.\u0275prov=p({token:r,factory:r.\u0275fac});let e=r;return e})();var et=b(y.APP_CONFIG_LANGUAGE),Ho=d(et,e=>e[W.DEFAULT_LANGUAGE]),Ko=d(et,e=>e[W.LANGUAGE_MENU]),qo=d(et,e=>e[W.LANGUAGE_MENU_OPEN]);function Hr(e,r){if(e&1&&(Rt(0,"span",1),Ot(1),Tt()),e&2){let n=It();At(n.styleClass),Fe("ngClass",n.containerClass())("ngStyle",n.style),St(),xt(n.value)}}var Ca=(()=>{class e{styleClass;style;badgeSize;severity;value;badgeDisabled=!1;set size(n){this._size=n,console.warn("size property is deprecated and will removed in v18, use badgeSize instead.")}get size(){return this._size}_size;containerClass(){return{"p-badge p-component":!0,"p-badge-no-gutter":this.value!=null&&String(this.value).length===1,"p-badge-lg":this.badgeSize==="large"||this.size==="large","p-badge-xl":this.badgeSize==="xlarge"||this.size==="xlarge",[`p-badge-${this.severity}`]:this.severity}}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=gt({type:e,selectors:[["p-badge"]],hostAttrs:[1,"p-element"],inputs:{styleClass:"styleClass",style:"style",badgeSize:"badgeSize",severity:"severity",value:"value",badgeDisabled:[2,"badgeDisabled","badgeDisabled",Lt],size:"size"},features:[bt],decls:1,vars:1,consts:[[3,"ngClass","class","ngStyle",4,"ngIf"],[3,"ngClass","ngStyle"]],template:function(t,i){t&1&&Ct(0,Hr,2,5,"span",0),t&2&&Fe("ngIf",!i.badgeDisabled)},dependencies:[wt,Dt,jt],styles:[`@layer primeng{.p-badge{display:inline-block;border-radius:10px;text-align:center;padding:0 .5rem}.p-overlay-badge{position:relative}.p-overlay-badge .p-badge{position:absolute;top:0;right:0;transform:translate(50%,-50%);transform-origin:100% 0;margin:0}.p-badge-dot{width:.5rem;min-width:.5rem;height:.5rem;border-radius:50%;padding:0}.p-badge-no-gutter{padding:0;border-radius:50%}}
`],encapsulation:2,changeDetection:0})}return e})(),Aa=(()=>{class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=U({type:e});static \u0275inj=P({imports:[Mt,Pt]})}return e})();export{we as a,Wt as b,k as c,ke as d,Q as e,le as f,Dn as g,Y as h,fe as i,T as j,di as k,pi as l,hi as m,y as n,F as o,W as p,de as q,L as r,pe as s,Be as t,$e as u,un as v,Hi as w,Qi as x,Ze as y,ln as z,Ws as A,Ao as B,To as C,z as D,I as E,as as F,cs as G,Lo as H,Po as I,ds as J,ps as K,vs as L,ys as M,Ss as N,Is as O,ws as P,Ds as Q,js as R,Ms as S,_s as T,Ns as U,Ho as V,Ko as W,qo as X,ks as Y,$s as Z,Hs as _,Ca as $,Aa as aa};
